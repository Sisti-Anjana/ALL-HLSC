{"ast":null,"code":"import api from './api';\nexport const adminService = {\n  // Users\n  getUsers: async () => {\n    const response = await api.get('/admin/users');\n    return response.data.data || [];\n  },\n  getUserById: async id => {\n    try {\n      const response = await api.get(`/admin/users/${id}`);\n      return response.data.data || null;\n    } catch (error) {\n      return null;\n    }\n  },\n  createUser: async data => {\n    const response = await api.post('/admin/users', data);\n    return response.data.data;\n  },\n  updateUser: async (id, data) => {\n    const response = await api.put(`/admin/users/${id}`, data);\n    return response.data.data;\n  },\n  deleteUser: async id => {\n    await api.delete(`/admin/users/${id}`);\n  },\n  // Personnel\n  getPersonnel: async () => {\n    const response = await api.get('/admin/personnel');\n    return response.data.data || [];\n  },\n  createPersonnel: async data => {\n    const response = await api.post('/admin/personnel', data);\n    return response.data.data;\n  },\n  updatePersonnel: async (id, data) => {\n    const response = await api.put(`/admin/personnel/${id}`, data);\n    return response.data.data;\n  },\n  deletePersonnel: async id => {\n    await api.delete(`/admin/personnel/${id}`);\n  },\n  // Locks\n  getLocks: async () => {\n    const response = await api.get('/admin/locks');\n    return response.data.data || [];\n  },\n  unlockPortfolio: async portfolioId => {\n    await api.post(`/admin/locks/${portfolioId}/unlock`);\n  },\n  unlockAllLocksForUser: async () => {\n    await api.post('/admin/locks/unlock-all');\n  },\n  // Logs\n  getLogs: async () => {\n    const response = await api.get('/admin/logs');\n    return response.data.data || [];\n  },\n  createLog: async data => {\n    const response = await api.post('/admin/logs', data);\n    return response.data.data;\n  },\n  // Tenants (Super Admin Only)\n  getTenants: async () => {\n    const response = await api.get('/admin/tenants');\n    return response.data.data || [];\n  },\n  getTenantById: async id => {\n    const response = await api.get(`/admin/tenants/${id}`);\n    return response.data.data;\n  },\n  createTenant: async data => {\n    const response = await api.post('/admin/tenants', data);\n    return response.data.data;\n  },\n  updateTenant: async (id, data) => {\n    const response = await api.put(`/admin/tenants/${id}`, data);\n    return response.data.data;\n  },\n  deleteTenant: async id => {\n    await api.delete(`/admin/tenants/${id}`);\n  }\n};","map":{"version":3,"names":["api","adminService","getUsers","response","get","data","getUserById","id","error","createUser","post","updateUser","put","deleteUser","delete","getPersonnel","createPersonnel","updatePersonnel","deletePersonnel","getLocks","unlockPortfolio","portfolioId","unlockAllLocksForUser","getLogs","createLog","getTenants","getTenantById","createTenant","updateTenant","deleteTenant"],"sources":["C:/Users/LibsysAdmin/OneDrive - Libsys IT Services Private Limited/Desktop/ALLLL HLSC/client/src/services/adminService.ts"],"sourcesContent":["import api from './api'\nimport { ApiResponse } from '../types/api.types'\nimport { User, CreateUserData, UpdateUserData } from '../types/user.types'\n\nexport interface MonitoredPersonnel {\n  id: string\n  tenant_id: string\n  name: string\n  role: string\n  is_active: boolean\n  created_at: string\n}\n\nexport interface AdminLog {\n  log_id: string\n  tenant_id: string\n  admin_name: string\n  action_type: string\n  action_description: string\n  related_portfolio_id?: string\n  related_user_id?: string\n  metadata?: any\n  created_at: string\n}\n\nexport interface PortfolioLock {\n  id: string\n  tenant_id: string\n  portfolio_id: string\n  portfolio?: { name: string }\n  issue_hour: number\n  monitored_by: string\n  reserved_at: string\n  expires_at: string\n}\n\nexport interface Tenant {\n  tenant_id: string\n  name: string\n  subdomain: string\n  contact_email: string\n  status: 'active' | 'inactive' | 'suspended'\n  subscription_plan?: 'basic' | 'pro' | 'enterprise' | null\n  created_at: string\n  updated_at?: string\n}\n\nexport interface CreateTenantData {\n  name: string\n  subdomain: string\n  contactEmail: string\n  status?: 'active' | 'inactive' | 'suspended'\n  adminEmail?: string\n  adminPassword?: string\n  adminName?: string\n}\n\nexport const adminService = {\n  // Users\n  getUsers: async (): Promise<User[]> => {\n    const response = await api.get<ApiResponse<User[]>>('/admin/users')\n    return response.data.data || []\n  },\n\n  getUserById: async (id: string): Promise<User | null> => {\n    try {\n      const response = await api.get<ApiResponse<User>>(`/admin/users/${id}`)\n      return response.data.data || null\n    } catch (error) {\n      return null\n    }\n  },\n\n  createUser: async (data: CreateUserData): Promise<User> => {\n    const response = await api.post<ApiResponse<User>>('/admin/users', data)\n    return response.data.data!\n  },\n\n  updateUser: async (id: string, data: UpdateUserData): Promise<User> => {\n    const response = await api.put<ApiResponse<User>>(`/admin/users/${id}`, data)\n    return response.data.data!\n  },\n\n  deleteUser: async (id: string): Promise<void> => {\n    await api.delete(`/admin/users/${id}`)\n  },\n\n  // Personnel\n  getPersonnel: async (): Promise<MonitoredPersonnel[]> => {\n    const response = await api.get<ApiResponse<MonitoredPersonnel[]>>('/admin/personnel')\n    return response.data.data || []\n  },\n\n  createPersonnel: async (data: { name: string; role?: string }): Promise<MonitoredPersonnel> => {\n    const response = await api.post<ApiResponse<MonitoredPersonnel>>('/admin/personnel', data)\n    return response.data.data!\n  },\n\n  updatePersonnel: async (id: string, data: Partial<MonitoredPersonnel>): Promise<MonitoredPersonnel> => {\n    const response = await api.put<ApiResponse<MonitoredPersonnel>>(`/admin/personnel/${id}`, data)\n    return response.data.data!\n  },\n\n  deletePersonnel: async (id: string): Promise<void> => {\n    await api.delete(`/admin/personnel/${id}`)\n  },\n\n  // Locks\n  getLocks: async (): Promise<PortfolioLock[]> => {\n    const response = await api.get<ApiResponse<PortfolioLock[]>>('/admin/locks')\n    return response.data.data || []\n  },\n\n  unlockPortfolio: async (portfolioId: string): Promise<void> => {\n    await api.post(`/admin/locks/${portfolioId}/unlock`)\n  },\n\n  unlockAllLocksForUser: async (): Promise<void> => {\n    await api.post('/admin/locks/unlock-all')\n  },\n\n  // Logs\n  getLogs: async (): Promise<AdminLog[]> => {\n    const response = await api.get<ApiResponse<AdminLog[]>>('/admin/logs')\n    return response.data.data || []\n  },\n\n  createLog: async (data: {\n    actionType: string\n    actionDescription: string\n    relatedPortfolioId?: string\n    relatedUserId?: string\n    metadata?: any\n  }): Promise<AdminLog> => {\n    const response = await api.post<ApiResponse<AdminLog>>('/admin/logs', data)\n    return response.data.data!\n  },\n\n  // Tenants (Super Admin Only)\n  getTenants: async (): Promise<Tenant[]> => {\n    const response = await api.get<ApiResponse<Tenant[]>>('/admin/tenants')\n    return response.data.data || []\n  },\n\n  getTenantById: async (id: string): Promise<Tenant> => {\n    const response = await api.get<ApiResponse<Tenant>>(`/admin/tenants/${id}`)\n    return response.data.data!\n  },\n\n  createTenant: async (data: CreateTenantData): Promise<{ tenant: Tenant; adminUser?: User }> => {\n    const response = await api.post<ApiResponse<{ tenant: Tenant; adminUser?: User }>>('/admin/tenants', data)\n    return response.data.data!\n  },\n\n  updateTenant: async (id: string, data: Partial<CreateTenantData>): Promise<Tenant> => {\n    const response = await api.put<ApiResponse<Tenant>>(`/admin/tenants/${id}`, data)\n    return response.data.data!\n  },\n\n  deleteTenant: async (id: string): Promise<void> => {\n    await api.delete(`/admin/tenants/${id}`)\n  },\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}