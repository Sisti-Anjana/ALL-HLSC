{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LibsysAdmin\\\\OneDrive - Libsys IT Services Private Limited\\\\Desktop\\\\ALLLL HLSC\\\\client\\\\src\\\\components\\\\dashboard\\\\IssueDetailsTable.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { issueService } from '../../services/issueService';\nimport { portfolioService } from '../../services/portfolioService';\nimport { adminService } from '../../services/adminService';\nimport { useAuth } from '../../context/AuthContext';\nimport toast from 'react-hot-toast';\nimport Button from '../common/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IssueDetailsTable = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const queryClient = useQueryClient();\n\n  // Search and filter states\n  const [searchQuery, setSearchQuery] = useState('');\n  const [dateFilter, setDateFilter] = useState('');\n  const [hourFilter, setHourFilter] = useState(new Date().getHours().toString());\n  const [issueFilter, setIssueFilter] = useState('active');\n  const [selectedPortfolio, setSelectedPortfolio] = useState('all');\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [quickRange, setQuickRange] = useState('today');\n\n  // New issue form states\n  const [newIssue, setNewIssue] = useState({\n    portfolio_id: '',\n    issue_hour: new Date().getHours(),\n    description: '',\n    monitored_by: user !== null && user !== void 0 && user.email ? [user.email] : []\n  });\n  const [issuePresent, setIssuePresent] = useState('');\n  const [caseNumber, setCaseNumber] = useState('');\n  const [missedAlertsBy, setMissedAlertsBy] = useState('');\n  const [selectedMonitoredBy, setSelectedMonitoredBy] = useState((user === null || user === void 0 ? void 0 : user.email) || '');\n  const [activeLock, setActiveLock] = useState(null);\n\n  // Fetch portfolios\n  const {\n    data: portfolios = []\n  } = useQuery({\n    queryKey: ['portfolios'],\n    queryFn: portfolioService.getAll\n  });\n\n  // Fetch users for dropdowns\n  const {\n    data: users = []\n  } = useQuery({\n    queryKey: ['admin-users'],\n    queryFn: adminService.getUsers\n  });\n\n  // Fetch locks to detect the current user's active lock\n  const {\n    data: locks = []\n  } = useQuery({\n    queryKey: ['portfolio-locks'],\n    queryFn: adminService.getLocks,\n    refetchInterval: 30000\n  });\n\n  // Derive active lock for the logged-in user (current hour)\n  useEffect(() => {\n    if (!(user !== null && user !== void 0 && user.email) || locks.length === 0) {\n      setActiveLock(null);\n      return;\n    }\n    const currentHour = new Date().getHours();\n    const lock = locks.find(l => {\n      var _l$monitored_by;\n      return ((_l$monitored_by = l.monitored_by) === null || _l$monitored_by === void 0 ? void 0 : _l$monitored_by.toLowerCase()) === user.email.toLowerCase() && l.issue_hour === currentHour;\n    });\n    setActiveLock(lock || null);\n  }, [locks, user === null || user === void 0 ? void 0 : user.email]);\n\n  // Set default monitored by to current user's email\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.email) {\n      setSelectedMonitoredBy(user.email);\n      setNewIssue(prev => ({\n        ...prev,\n        monitored_by: [user.email]\n      }));\n    }\n  }, [user]);\n\n  // When there is an active lock, prefill and lock portfolio/hour/monitored_by\n  useEffect(() => {\n    if (activeLock) {\n      setNewIssue(prev => ({\n        ...prev,\n        portfolio_id: activeLock.portfolio_id,\n        issue_hour: activeLock.issue_hour,\n        monitored_by: user !== null && user !== void 0 && user.email ? [user.email] : prev.monitored_by\n      }));\n      setSelectedMonitoredBy((user === null || user === void 0 ? void 0 : user.email) || '');\n    }\n  }, [activeLock, user === null || user === void 0 ? void 0 : user.email]);\n\n  // Build filters for API\n  const buildFilters = () => {\n    const filters = {};\n    if (searchQuery) filters.search = searchQuery;\n    if (dateFilter) {\n      // Add date filtering logic here when backend supports it\n    }\n    if (hourFilter !== 'all') {\n      filters.issue_hour = parseInt(hourFilter);\n    }\n    // \"Active issues\" = issues where Issue Present = Yes (description !== 'No issue')\n    // \"All issues\" = all issues (both Yes and No)\n    if (issueFilter === 'active') {\n      filters.description = '!No issue'; // Filter out \"No issue\" entries\n    }\n    return filters;\n  };\n\n  // Fetch issues\n  const {\n    data: issues = [],\n    isLoading\n  } = useQuery({\n    queryKey: ['issues', buildFilters()],\n    queryFn: () => issueService.getAll(buildFilters())\n  });\n\n  // Create issue mutation\n  const createMutation = useMutation({\n    mutationFn: issueService.create,\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['issues']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['portfolio-activity']\n      });\n      toast.success('Issue logged successfully');\n      // Reset form\n      setNewIssue({\n        portfolio_id: '',\n        issue_hour: new Date().getHours(),\n        description: '',\n        monitored_by: user !== null && user !== void 0 && user.email ? [user.email] : []\n      });\n      setIssuePresent('');\n      setCaseNumber('');\n      setMissedAlertsBy('');\n      setSelectedMonitoredBy((user === null || user === void 0 ? void 0 : user.email) || '');\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to log issue');\n    }\n  });\n\n  // Update issue mutation\n  const updateMutation = useMutation({\n    mutationFn: ({\n      id,\n      data\n    }) => issueService.update(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['issues']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['portfolio-activity']\n      });\n      toast.success('Issue updated successfully');\n    },\n    onError: error => {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to update issue');\n    }\n  });\n\n  // Delete issue mutation\n  const deleteMutation = useMutation({\n    mutationFn: issueService.delete,\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['issues']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['portfolio-activity']\n      });\n      toast.success('Issue deleted successfully');\n    },\n    onError: error => {\n      var _error$response3, _error$response3$data;\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Failed to delete issue');\n    }\n  });\n  const handleLogTicket = () => {\n    // Validation\n    if (!newIssue.portfolio_id) {\n      toast.error('Please select a Portfolio');\n      return;\n    }\n\n    // Check if portfolio is locked by another user\n    if (newIssue.portfolio_id && newIssue.issue_hour !== undefined) {\n      const currentHour = newIssue.issue_hour;\n      const lockForThisPortfolio = locks.find(l => l.portfolio_id === newIssue.portfolio_id && l.issue_hour === currentHour);\n      if (lockForThisPortfolio) {\n        var _lockForThisPortfolio, _user$email;\n        const isLockedByMe = ((_lockForThisPortfolio = lockForThisPortfolio.monitored_by) === null || _lockForThisPortfolio === void 0 ? void 0 : _lockForThisPortfolio.toLowerCase()) === (user === null || user === void 0 ? void 0 : (_user$email = user.email) === null || _user$email === void 0 ? void 0 : _user$email.toLowerCase());\n        if (!isLockedByMe) {\n          var _lockForThisPortfolio2;\n          toast.error(`This portfolio is locked by ${((_lockForThisPortfolio2 = lockForThisPortfolio.monitored_by) === null || _lockForThisPortfolio2 === void 0 ? void 0 : _lockForThisPortfolio2.split('@')[0]) || 'another user'}. Only they can log issues.`);\n          return;\n        }\n      }\n    }\n    if (!issuePresent || issuePresent !== 'yes' && issuePresent !== 'no') {\n      toast.error('Please select \"Yes\" or \"No\" for Issue Present');\n      return;\n    }\n    if (!selectedMonitoredBy) {\n      toast.error('Monitored By is REQUIRED. Please select who monitored this hour.');\n      return;\n    }\n    if (issuePresent === 'yes' && (!newIssue.description || newIssue.description.trim() === '')) {\n      toast.error('Please provide issue details when issue is present');\n      return;\n    }\n\n    // Build issue data - map to database schema\n    // monitored_by is VARCHAR(255) (string), missed_by is TEXT[] (array)\n    const issueData = {\n      portfolio_id: newIssue.portfolio_id,\n      site_name: '',\n      issue_hour: newIssue.issue_hour || new Date().getHours(),\n      description: issuePresent === 'no' ? 'No issue' : (newIssue.description || '').trim(),\n      severity: (issuePresent === 'yes' ? 'high' : 'low').toLowerCase(),\n      // Database uses lowercase\n      status: 'open',\n      monitored_by: selectedMonitoredBy || '',\n      // Database expects single string, not array\n      missed_by: issuePresent === 'yes' && missedAlertsBy ? [missedAlertsBy] : null,\n      // Array for missed_by, null if empty\n      notes: caseNumber ? `Case #: ${caseNumber}` : null\n    };\n\n    // Remove null/undefined fields\n    Object.keys(issueData).forEach(key => {\n      if (issueData[key] === null || issueData[key] === undefined) {\n        delete issueData[key];\n      }\n    });\n    console.log('Creating issue with data:', issueData);\n    createMutation.mutate(issueData);\n  };\n  const handleClearFilters = () => {\n    setSearchQuery('');\n    setDateFilter('');\n    setHourFilter('all');\n    setIssueFilter('active');\n  };\n  const handleQuickRange = range => {\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n    const weekStart = new Date(today);\n    weekStart.setDate(today.getDate() - today.getDay()); // Start of week (Sunday)\n    const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n    switch (range) {\n      case 'today':\n        setStartDate(today.toISOString().split('T')[0]);\n        setEndDate(today.toISOString().split('T')[0]);\n        break;\n      case 'yesterday':\n        setStartDate(yesterday.toISOString().split('T')[0]);\n        setEndDate(yesterday.toISOString().split('T')[0]);\n        break;\n      case 'week':\n        setStartDate(weekStart.toISOString().split('T')[0]);\n        setEndDate(today.toISOString().split('T')[0]);\n        break;\n      case 'month':\n        setStartDate(monthStart.toISOString().split('T')[0]);\n        setEndDate(today.toISOString().split('T')[0]);\n        break;\n    }\n  };\n  const formatDateTime = dateString => {\n    const date = new Date(dateString);\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    const year = date.getFullYear();\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    return `${month}/${day}/${year}, ${hours}:${minutes}`;\n  };\n  const getCurrentDateTime = () => {\n    const now = new Date();\n    return formatDateTime(now.toISOString());\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            placeholder: \"Search issues...\",\n            className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Select Portfolio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedPortfolio,\n              onChange: e => setSelectedPortfolio(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Portfolios\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), portfolios.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: p.id,\n                children: p.name\n              }, p.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Issue Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: issueFilter,\n              onChange: e => setIssueFilter(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"active\",\n                children: \"Active Issues (Default)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Issues\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Hour Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: hourFilter,\n              onChange: e => setHourFilter(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Hours\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this), Array.from({\n                length: 24\n              }, (_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: i.toString(),\n                children: [i, \":00\"]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"QUICK RANGE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleQuickRange('today'),\n                className: `flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${quickRange === 'today' ? 'bg-green-500 text-white shadow-md' : 'bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md hover:scale-105'}`,\n                children: \"Today\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleQuickRange('yesterday'),\n                className: `flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${quickRange === 'yesterday' ? 'bg-green-500 text-white shadow-md' : 'bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md hover:scale-105'}`,\n                children: \"Yesterday\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleQuickRange('week'),\n                className: `flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${quickRange === 'week' ? 'bg-green-500 text-white shadow-md' : 'bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md hover:scale-105'}`,\n                children: \"This Week\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleQuickRange('month'),\n                className: `flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${quickRange === 'month' ? 'bg-green-500 text-white shadow-md' : 'bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md hover:scale-105'}`,\n                children: \"This Month\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Start Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: startDate,\n                onChange: e => setStartDate(e.target.value),\n                className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"End Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: endDate,\n                onChange: e => setEndDate(e.target.value),\n                className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-end\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: handleClearFilters,\n              className: \"w-full\",\n              children: \"Clear Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: [\"Issue Results (\", issues.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Showing newest first\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"PORTFOLIO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"HOUR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"ISSUE PRESENT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"ISSUE DESCRIPTION\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"CASE #\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"MONITORED BY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"DATE/TIME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"MISSED ALERTS BY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"ACTIONS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: newIssue.portfolio_id || '',\n                  onChange: e => setNewIssue({\n                    ...newIssue,\n                    portfolio_id: e.target.value\n                  }),\n                  disabled: !!activeLock,\n                  className: `w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${activeLock ? 'bg-gray-100 cursor-not-allowed' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: activeLock ? 'Locked to portfolio' : 'Select Portfolio'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 21\n                  }, this), portfolios.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: p.id,\n                    children: p.name\n                  }, p.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"0\",\n                  max: \"23\",\n                  value: newIssue.issue_hour || '',\n                  onChange: e => setNewIssue({\n                    ...newIssue,\n                    issue_hour: parseInt(e.target.value) || 0\n                  }),\n                  disabled: !!activeLock,\n                  className: `w-20 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${activeLock ? 'bg-gray-100 cursor-not-allowed' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => {\n                      setIssuePresent('yes');\n                      if (newIssue.description === 'No issue') {\n                        setNewIssue({\n                          ...newIssue,\n                          description: ''\n                        });\n                      }\n                    },\n                    className: `px-4 py-2 rounded-lg text-sm font-medium transition-colors ${issuePresent === 'yes' ? 'bg-red-100 text-red-800 border-2 border-red-300' : 'bg-white text-gray-700 border-2 border-gray-300 hover:bg-gray-50'}`,\n                    children: \"Yes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => {\n                      setIssuePresent('no');\n                      setNewIssue({\n                        ...newIssue,\n                        description: 'No issue'\n                      });\n                      setMissedAlertsBy(''); // Clear missed alerts when No is selected\n                    },\n                    className: `px-4 py-2 rounded-lg text-sm font-medium transition-colors ${issuePresent === 'no' ? 'bg-green-100 text-green-800 border-2 border-green-300' : 'bg-white text-gray-700 border-2 border-gray-300 hover:bg-gray-50'}`,\n                    children: \"No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 493,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newIssue.description || '',\n                  onChange: e => setNewIssue({\n                    ...newIssue,\n                    description: e.target.value\n                  }),\n                  placeholder: issuePresent === '' ? \"Select issue present first\" : issuePresent === 'no' ? \"No issue\" : \"Enter issue details\",\n                  disabled: issuePresent === 'no',\n                  className: `w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${issuePresent === 'no' ? 'bg-gray-100 cursor-not-allowed' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: caseNumber,\n                  onChange: e => setCaseNumber(e.target.value),\n                  placeholder: \"Case #\",\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedMonitoredBy,\n                  onChange: e => {\n                    setSelectedMonitoredBy(e.target.value);\n                    setNewIssue({\n                      ...newIssue,\n                      monitored_by: e.target.value ? [e.target.value] : []\n                    });\n                  },\n                  disabled: !!activeLock,\n                  className: `w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${activeLock ? 'bg-gray-100 cursor-not-allowed' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: activeLock ? 'Locked to you' : 'Select'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 21\n                  }, this), users.filter(u => u.is_active).map(u => {\n                    const username = u.email.split('@')[0];\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: u.email,\n                      children: [username, \" (\", u.full_name, \")\"]\n                    }, u.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 566,\n                      columnNumber: 27\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-sm text-gray-600\",\n                children: getCurrentDateTime()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: missedAlertsBy,\n                  onChange: e => setMissedAlertsBy(e.target.value),\n                  disabled: issuePresent === 'no' || issuePresent === '',\n                  className: `w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${issuePresent === 'no' || issuePresent === '' ? 'bg-gray-100 cursor-not-allowed' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 21\n                  }, this), users.filter(u => u.is_active).map(u => {\n                    const username = u.email.split('@')[0];\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: u.email,\n                      children: [username, \" (\", u.full_name, \")\"]\n                    }, u.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 591,\n                      columnNumber: 27\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  size: \"sm\",\n                  onClick: handleLogTicket,\n                  disabled: createMutation.isPending,\n                  style: {\n                    backgroundColor: '#76ab3f'\n                  },\n                  children: createMutation.isPending ? 'Logging...' : 'Log Ticket'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 599,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 7,\n                className: \"px-4 py-8 text-center text-gray-500\",\n                children: \"Loading issues...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 17\n            }, this) : issues.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 7,\n                className: \"px-4 py-8 text-center text-gray-500\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: \"No issues found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 622,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-400\",\n                    children: issueFilter === 'active' ? \"No issues with 'Issue Present = Yes' found. Select 'All Issues' to see all issues, or try selecting a different portfolio or adjusting the date range.\" : \"No issues found. Try selecting a different portfolio or adjusting the date range.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 623,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this) : issues.map(issue => {\n              var _issue$portfolio, _issue$monitored_by, _issue$missed_by;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-blue-50 hover:shadow-sm transition-all duration-200 cursor-pointer border-l-4 border-l-transparent hover:border-l-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-900\",\n                  children: ((_issue$portfolio = issue.portfolio) === null || _issue$portfolio === void 0 ? void 0 : _issue$portfolio.name) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-900\",\n                  children: issue.issue_hour\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3\",\n                  children: issue.description && issue.description.toLowerCase() === 'no issue' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\",\n                    children: \"No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 644,\n                    columnNumber: 25\n                  }, this) : issue.description && issue.description.trim() !== '' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800\",\n                    children: \"Yes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 648,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 652,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-900 max-w-xs\",\n                  children: issue.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-600\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-900\",\n                  children: ((_issue$monitored_by = issue.monitored_by) === null || _issue$monitored_by === void 0 ? void 0 : _issue$monitored_by.map(email => email.split('@')[0]).join(', ')) || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-600\",\n                  children: formatDateTime(issue.created_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-600\",\n                  children: ((_issue$missed_by = issue.missed_by) === null || _issue$missed_by === void 0 ? void 0 : _issue$missed_by.map(email => email.split('@')[0]).join(', ')) || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 667,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        // Handle edit\n                        toast('Edit functionality coming soon', {\n                          icon: ''\n                        });\n                      },\n                      className: \"text-blue-600 hover:text-blue-800 hover:underline hover:font-semibold text-sm transition-all duration-200\",\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 672,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        if (window.confirm('Are you sure you want to delete this issue?')) {\n                          deleteMutation.mutate(issue.id);\n                        }\n                      },\n                      className: \"text-red-600 hover:text-red-800 hover:underline hover:font-semibold text-sm transition-all duration-200\",\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 681,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 671,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 21\n                }, this)]\n              }, issue.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 5\n  }, this);\n};\n_s(IssueDetailsTable, \"md+FLkb7QErJAH3Abbg6xGKyd60=\", false, function () {\n  return [useAuth, useQueryClient, useQuery, useQuery, useQuery, useQuery, useMutation, useMutation, useMutation];\n});\n_c = IssueDetailsTable;\nexport default IssueDetailsTable;\nvar _c;\n$RefreshReg$(_c, \"IssueDetailsTable\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","useMutation","useQueryClient","issueService","portfolioService","adminService","useAuth","toast","Button","jsxDEV","_jsxDEV","IssueDetailsTable","_s","user","queryClient","searchQuery","setSearchQuery","dateFilter","setDateFilter","hourFilter","setHourFilter","Date","getHours","toString","issueFilter","setIssueFilter","selectedPortfolio","setSelectedPortfolio","startDate","setStartDate","endDate","setEndDate","quickRange","setQuickRange","newIssue","setNewIssue","portfolio_id","issue_hour","description","monitored_by","email","issuePresent","setIssuePresent","caseNumber","setCaseNumber","missedAlertsBy","setMissedAlertsBy","selectedMonitoredBy","setSelectedMonitoredBy","activeLock","setActiveLock","data","portfolios","queryKey","queryFn","getAll","users","getUsers","locks","getLocks","refetchInterval","length","currentHour","lock","find","l","_l$monitored_by","toLowerCase","prev","buildFilters","filters","search","parseInt","issues","isLoading","createMutation","mutationFn","create","onSuccess","invalidateQueries","success","onError","error","_error$response","_error$response$data","response","updateMutation","id","update","_error$response2","_error$response2$data","deleteMutation","delete","_error$response3","_error$response3$data","handleLogTicket","undefined","lockForThisPortfolio","_lockForThisPortfolio","_user$email","isLockedByMe","_lockForThisPortfolio2","split","trim","issueData","site_name","severity","status","missed_by","notes","Object","keys","forEach","key","console","log","mutate","handleClearFilters","handleQuickRange","range","today","yesterday","setDate","getDate","weekStart","getDay","monthStart","getFullYear","getMonth","toISOString","formatDateTime","dateString","date","month","String","padStart","day","year","hours","minutes","getMinutes","getCurrentDateTime","now","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","map","p","name","Array","from","_","i","onClick","variant","disabled","min","max","filter","u","is_active","username","full_name","size","isPending","style","backgroundColor","colSpan","issue","_issue$portfolio","_issue$monitored_by","_issue$missed_by","portfolio","join","created_at","icon","window","confirm","_c","$RefreshReg$"],"sources":["C:/Users/LibsysAdmin/OneDrive - Libsys IT Services Private Limited/Desktop/ALLLL HLSC/client/src/components/dashboard/IssueDetailsTable.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { issueService, IssueFilters } from '../../services/issueService'\nimport { portfolioService } from '../../services/portfolioService'\nimport { adminService, PortfolioLock } from '../../services/adminService'\nimport { Issue, CreateIssueData } from '../../types/issue.types'\nimport { Portfolio } from '../../types/portfolio.types'\nimport { User } from '../../types/user.types'\nimport { useAuth } from '../../context/AuthContext'\nimport toast from 'react-hot-toast'\nimport Button from '../common/Button'\n\nconst IssueDetailsTable: React.FC = () => {\n  const { user } = useAuth()\n  const queryClient = useQueryClient()\n  \n  // Search and filter states\n  const [searchQuery, setSearchQuery] = useState('')\n  const [dateFilter, setDateFilter] = useState('')\n  const [hourFilter, setHourFilter] = useState<string>(new Date().getHours().toString())\n  const [issueFilter, setIssueFilter] = useState<string>('active')\n  const [selectedPortfolio, setSelectedPortfolio] = useState<string>('all')\n  const [startDate, setStartDate] = useState('')\n  const [endDate, setEndDate] = useState('')\n  const [quickRange, setQuickRange] = useState<string>('today')\n  \n  // New issue form states\n  const [newIssue, setNewIssue] = useState<Partial<CreateIssueData>>({\n    portfolio_id: '',\n    issue_hour: new Date().getHours(),\n    description: '',\n    monitored_by: user?.email ? [user.email] : [],\n  })\n  const [issuePresent, setIssuePresent] = useState<string>('')\n  const [caseNumber, setCaseNumber] = useState('')\n  const [missedAlertsBy, setMissedAlertsBy] = useState<string>('')\n  const [selectedMonitoredBy, setSelectedMonitoredBy] = useState<string>(user?.email || '')\n  const [activeLock, setActiveLock] = useState<PortfolioLock | null>(null)\n\n  // Fetch portfolios\n  const { data: portfolios = [] } = useQuery<Portfolio[]>({\n    queryKey: ['portfolios'],\n    queryFn: portfolioService.getAll,\n  })\n\n  // Fetch users for dropdowns\n  const { data: users = [] } = useQuery<User[]>({\n    queryKey: ['admin-users'],\n    queryFn: adminService.getUsers,\n  })\n\n  // Fetch locks to detect the current user's active lock\n  const { data: locks = [] } = useQuery<PortfolioLock[]>({\n    queryKey: ['portfolio-locks'],\n    queryFn: adminService.getLocks,\n    refetchInterval: 30000,\n  })\n\n  // Derive active lock for the logged-in user (current hour)\n  useEffect(() => {\n    if (!user?.email || locks.length === 0) {\n      setActiveLock(null)\n      return\n    }\n    const currentHour = new Date().getHours()\n    const lock = locks.find(\n      (l) =>\n        l.monitored_by?.toLowerCase() === user.email.toLowerCase() &&\n        l.issue_hour === currentHour\n    )\n    setActiveLock(lock || null)\n  }, [locks, user?.email])\n\n  // Set default monitored by to current user's email\n  useEffect(() => {\n    if (user?.email) {\n      setSelectedMonitoredBy(user.email)\n      setNewIssue(prev => ({\n        ...prev,\n        monitored_by: [user.email],\n      }))\n    }\n  }, [user])\n\n  // When there is an active lock, prefill and lock portfolio/hour/monitored_by\n  useEffect(() => {\n    if (activeLock) {\n      setNewIssue((prev) => ({\n        ...prev,\n        portfolio_id: activeLock.portfolio_id,\n        issue_hour: activeLock.issue_hour,\n        monitored_by: user?.email ? [user.email] : prev.monitored_by,\n      }))\n      setSelectedMonitoredBy(user?.email || '')\n    }\n  }, [activeLock, user?.email])\n\n\n  // Build filters for API\n  const buildFilters = (): IssueFilters => {\n    const filters: IssueFilters = {}\n    if (searchQuery) filters.search = searchQuery\n    if (dateFilter) {\n      // Add date filtering logic here when backend supports it\n    }\n    if (hourFilter !== 'all') {\n      filters.issue_hour = parseInt(hourFilter)\n    }\n    // \"Active issues\" = issues where Issue Present = Yes (description !== 'No issue')\n    // \"All issues\" = all issues (both Yes and No)\n    if (issueFilter === 'active') {\n      filters.description = '!No issue' // Filter out \"No issue\" entries\n    }\n    return filters\n  }\n\n  // Fetch issues\n  const { data: issues = [], isLoading } = useQuery<Issue[]>({\n    queryKey: ['issues', buildFilters()],\n    queryFn: () => issueService.getAll(buildFilters()),\n  })\n\n  // Create issue mutation\n  const createMutation = useMutation({\n    mutationFn: issueService.create,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['issues'] })\n      queryClient.invalidateQueries({ queryKey: ['portfolio-activity'] })\n      toast.success('Issue logged successfully')\n      // Reset form\n      setNewIssue({\n        portfolio_id: '',\n        issue_hour: new Date().getHours(),\n        description: '',\n        monitored_by: user?.email ? [user.email] : [],\n      })\n      setIssuePresent('')\n      setCaseNumber('')\n      setMissedAlertsBy('')\n      setSelectedMonitoredBy(user?.email || '')\n    },\n    onError: (error: any) => {\n      toast.error(error.response?.data?.error || 'Failed to log issue')\n    },\n  })\n\n  // Update issue mutation\n  const updateMutation = useMutation({\n    mutationFn: ({ id, data }: { id: string; data: any }) => issueService.update(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['issues'] })\n      queryClient.invalidateQueries({ queryKey: ['portfolio-activity'] })\n      toast.success('Issue updated successfully')\n    },\n    onError: (error: any) => {\n      toast.error(error.response?.data?.error || 'Failed to update issue')\n    },\n  })\n\n  // Delete issue mutation\n  const deleteMutation = useMutation({\n    mutationFn: issueService.delete,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['issues'] })\n      queryClient.invalidateQueries({ queryKey: ['portfolio-activity'] })\n      toast.success('Issue deleted successfully')\n    },\n    onError: (error: any) => {\n      toast.error(error.response?.data?.error || 'Failed to delete issue')\n    },\n  })\n\n  const handleLogTicket = () => {\n    // Validation\n    if (!newIssue.portfolio_id) {\n      toast.error('Please select a Portfolio')\n      return\n    }\n\n    // Check if portfolio is locked by another user\n    if (newIssue.portfolio_id && newIssue.issue_hour !== undefined) {\n      const currentHour = newIssue.issue_hour\n      const lockForThisPortfolio = locks.find(\n        (l) =>\n          l.portfolio_id === newIssue.portfolio_id &&\n          l.issue_hour === currentHour\n      )\n      \n      if (lockForThisPortfolio) {\n        const isLockedByMe = lockForThisPortfolio.monitored_by?.toLowerCase() === user?.email?.toLowerCase()\n        if (!isLockedByMe) {\n          toast.error(`This portfolio is locked by ${lockForThisPortfolio.monitored_by?.split('@')[0] || 'another user'}. Only they can log issues.`)\n          return\n        }\n      }\n    }\n\n    if (!issuePresent || (issuePresent !== 'yes' && issuePresent !== 'no')) {\n      toast.error('Please select \"Yes\" or \"No\" for Issue Present')\n      return\n    }\n\n    if (!selectedMonitoredBy) {\n      toast.error('Monitored By is REQUIRED. Please select who monitored this hour.')\n      return\n    }\n\n    if (issuePresent === 'yes' && (!newIssue.description || newIssue.description.trim() === '')) {\n      toast.error('Please provide issue details when issue is present')\n      return\n    }\n\n    // Build issue data - map to database schema\n    // monitored_by is VARCHAR(255) (string), missed_by is TEXT[] (array)\n    const issueData: any = {\n      portfolio_id: newIssue.portfolio_id!,\n      site_name: '',\n      issue_hour: newIssue.issue_hour || new Date().getHours(),\n      description: issuePresent === 'no' ? 'No issue' : (newIssue.description || '').trim(),\n      severity: (issuePresent === 'yes' ? 'high' : 'low').toLowerCase(), // Database uses lowercase\n      status: 'open',\n      monitored_by: selectedMonitoredBy || '', // Database expects single string, not array\n      missed_by: (issuePresent === 'yes' && missedAlertsBy) ? [missedAlertsBy] : null, // Array for missed_by, null if empty\n      notes: caseNumber ? `Case #: ${caseNumber}` : null,\n    }\n\n    // Remove null/undefined fields\n    Object.keys(issueData).forEach(key => {\n      if (issueData[key] === null || issueData[key] === undefined) {\n        delete issueData[key]\n      }\n    })\n\n    console.log('Creating issue with data:', issueData)\n    createMutation.mutate(issueData)\n  }\n\n  const handleClearFilters = () => {\n    setSearchQuery('')\n    setDateFilter('')\n    setHourFilter('all')\n    setIssueFilter('active')\n  }\n\n  const handleQuickRange = (range: 'today' | 'yesterday' | 'week' | 'month') => {\n    const today = new Date()\n    const yesterday = new Date(today)\n    yesterday.setDate(yesterday.getDate() - 1)\n    const weekStart = new Date(today)\n    weekStart.setDate(today.getDate() - today.getDay()) // Start of week (Sunday)\n    const monthStart = new Date(today.getFullYear(), today.getMonth(), 1)\n\n    switch (range) {\n      case 'today':\n        setStartDate(today.toISOString().split('T')[0])\n        setEndDate(today.toISOString().split('T')[0])\n        break\n      case 'yesterday':\n        setStartDate(yesterday.toISOString().split('T')[0])\n        setEndDate(yesterday.toISOString().split('T')[0])\n        break\n      case 'week':\n        setStartDate(weekStart.toISOString().split('T')[0])\n        setEndDate(today.toISOString().split('T')[0])\n        break\n      case 'month':\n        setStartDate(monthStart.toISOString().split('T')[0])\n        setEndDate(today.toISOString().split('T')[0])\n        break\n    }\n  }\n\n\n  const formatDateTime = (dateString: string) => {\n    const date = new Date(dateString)\n    const month = String(date.getMonth() + 1).padStart(2, '0')\n    const day = String(date.getDate()).padStart(2, '0')\n    const year = date.getFullYear()\n    const hours = String(date.getHours()).padStart(2, '0')\n    const minutes = String(date.getMinutes()).padStart(2, '0')\n    return `${month}/${day}/${year}, ${hours}:${minutes}`\n  }\n\n  const getCurrentDateTime = () => {\n    const now = new Date()\n    return formatDateTime(now.toISOString())\n  }\n\n  return (\n    <div className=\"space-y-6 w-full\">\n      {/* Search Issues Section */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <div className=\"space-y-4\">\n          <div className=\"relative\">\n            <svg className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n            </svg>\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search issues...\"\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Select Portfolio</label>\n              <select\n                value={selectedPortfolio}\n                onChange={(e) => setSelectedPortfolio(e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"all\">All Portfolios</option>\n                {portfolios.map((p) => (\n                  <option key={p.id} value={p.id}>\n                    {p.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Issue Filter</label>\n              <select\n                value={issueFilter}\n                onChange={(e) => setIssueFilter(e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"active\">Active Issues (Default)</option>\n                <option value=\"all\">All Issues</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Hour Filter</label>\n              <select\n                value={hourFilter}\n                onChange={(e) => setHourFilter(e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"all\">All Hours</option>\n                {Array.from({ length: 24 }, (_, i) => (\n                  <option key={i} value={i.toString()}>\n                    {i}:00\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">QUICK RANGE</label>\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => handleQuickRange('today')}\n                  className={`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${\n                    quickRange === 'today'\n                      ? 'bg-green-500 text-white shadow-md'\n                      : 'bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md hover:scale-105'\n                  }`}\n                >\n                  Today\n                </button>\n                <button\n                  onClick={() => handleQuickRange('yesterday')}\n                  className={`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${\n                    quickRange === 'yesterday'\n                      ? 'bg-green-500 text-white shadow-md'\n                      : 'bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md hover:scale-105'\n                  }`}\n                >\n                  Yesterday\n                </button>\n                <button\n                  onClick={() => handleQuickRange('week')}\n                  className={`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${\n                    quickRange === 'week'\n                      ? 'bg-green-500 text-white shadow-md'\n                      : 'bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md hover:scale-105'\n                  }`}\n                >\n                  This Week\n                </button>\n                <button\n                  onClick={() => handleQuickRange('month')}\n                  className={`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${\n                    quickRange === 'month'\n                      ? 'bg-green-500 text-white shadow-md'\n                      : 'bg-gray-200 text-gray-700 hover:bg-gray-300 hover:shadow-md hover:scale-105'\n                  }`}\n                >\n                  This Month\n                </button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Start Date</label>\n              <div className=\"relative\">\n                <input\n                  type=\"date\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10\"\n                />\n                <svg className=\"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                </svg>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">End Date</label>\n              <div className=\"relative\">\n                <input\n                  type=\"date\"\n                  value={endDate}\n                  onChange={(e) => setEndDate(e.target.value)}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10\"\n                />\n                <svg className=\"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                </svg>\n              </div>\n            </div>\n            <div className=\"flex items-end\">\n              <Button\n                variant=\"secondary\"\n                onClick={handleClearFilters}\n                className=\"w-full\"\n              >\n                Clear Filters\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Issues Table */}\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">\n            Issue Results ({issues.length})\n          </h3>\n          <p className=\"text-sm text-gray-600\">Showing newest first</p>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">PORTFOLIO</th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">HOUR</th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">ISSUE PRESENT</th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">ISSUE DESCRIPTION</th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">CASE #</th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">MONITORED BY</th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">DATE/TIME</th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">MISSED ALERTS BY</th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">ACTIONS</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {/* New Entry Row */}\n              <tr className=\"bg-gray-50\">\n                <td className=\"px-4 py-3\">\n                  <select\n                    value={newIssue.portfolio_id || ''}\n                    onChange={(e) => setNewIssue({ ...newIssue, portfolio_id: e.target.value })}\n                    disabled={!!activeLock}\n                    className={`w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      activeLock ? 'bg-gray-100 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    <option value=\"\">{activeLock ? 'Locked to portfolio' : 'Select Portfolio'}</option>\n                    {portfolios.map((p) => (\n                      <option key={p.id} value={p.id}>\n                        {p.name}\n                      </option>\n                    ))}\n                  </select>\n                </td>\n                <td className=\"px-4 py-3\">\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"23\"\n                    value={newIssue.issue_hour || ''}\n                    onChange={(e) => setNewIssue({ ...newIssue, issue_hour: parseInt(e.target.value) || 0 })}\n                    disabled={!!activeLock}\n                    className={`w-20 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      activeLock ? 'bg-gray-100 cursor-not-allowed' : ''\n                    }`}\n                  />\n                </td>\n                <td className=\"px-4 py-3\">\n                  <div className=\"flex gap-2\">\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setIssuePresent('yes')\n                        if (newIssue.description === 'No issue') {\n                          setNewIssue({ ...newIssue, description: '' })\n                        }\n                      }}\n                      className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        issuePresent === 'yes'\n                          ? 'bg-red-100 text-red-800 border-2 border-red-300'\n                          : 'bg-white text-gray-700 border-2 border-gray-300 hover:bg-gray-50'\n                      }`}\n                    >\n                      Yes\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setIssuePresent('no')\n                        setNewIssue({ ...newIssue, description: 'No issue' })\n                        setMissedAlertsBy('') // Clear missed alerts when No is selected\n                      }}\n                      className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        issuePresent === 'no'\n                          ? 'bg-green-100 text-green-800 border-2 border-green-300'\n                          : 'bg-white text-gray-700 border-2 border-gray-300 hover:bg-gray-50'\n                      }`}\n                    >\n                      No\n                    </button>\n                  </div>\n                </td>\n                <td className=\"px-4 py-3\">\n                  <input\n                    type=\"text\"\n                    value={newIssue.description || ''}\n                    onChange={(e) => setNewIssue({ ...newIssue, description: e.target.value })}\n                    placeholder={issuePresent === '' ? \"Select issue present first\" : issuePresent === 'no' ? \"No issue\" : \"Enter issue details\"}\n                    disabled={issuePresent === 'no'}\n                    className={`w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      issuePresent === 'no' ? 'bg-gray-100 cursor-not-allowed' : ''\n                    }`}\n                  />\n                </td>\n                <td className=\"px-4 py-3\">\n                  <input\n                    type=\"text\"\n                    value={caseNumber}\n                    onChange={(e) => setCaseNumber(e.target.value)}\n                    placeholder=\"Case #\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </td>\n                <td className=\"px-4 py-3\">\n                  <select\n                    value={selectedMonitoredBy}\n                    onChange={(e) => {\n                      setSelectedMonitoredBy(e.target.value)\n                      setNewIssue({ ...newIssue, monitored_by: e.target.value ? [e.target.value] : [] })\n                    }}\n                    disabled={!!activeLock}\n                    className={`w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      activeLock ? 'bg-gray-100 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    <option value=\"\">{activeLock ? 'Locked to you' : 'Select'}</option>\n                    {users\n                      .filter(u => u.is_active)\n                      .map((u) => {\n                        const username = u.email.split('@')[0]\n                        return (\n                          <option key={u.id} value={u.email}>\n                            {username} ({u.full_name})\n                          </option>\n                        )\n                      })}\n                  </select>\n                </td>\n                <td className=\"px-4 py-3 text-sm text-gray-600\">\n                  {getCurrentDateTime()}\n                </td>\n                <td className=\"px-4 py-3\">\n                  <select\n                    value={missedAlertsBy}\n                    onChange={(e) => setMissedAlertsBy(e.target.value)}\n                    disabled={issuePresent === 'no' || issuePresent === ''}\n                    className={`w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      issuePresent === 'no' || issuePresent === '' ? 'bg-gray-100 cursor-not-allowed' : ''\n                    }`}\n                  >\n                    <option value=\"\">Select</option>\n                    {users\n                      .filter(u => u.is_active)\n                      .map((u) => {\n                        const username = u.email.split('@')[0]\n                        return (\n                          <option key={u.id} value={u.email}>\n                            {username} ({u.full_name})\n                          </option>\n                        )\n                      })}\n                  </select>\n                </td>\n                <td className=\"px-4 py-3\">\n                  <Button\n                    variant=\"primary\"\n                    size=\"sm\"\n                    onClick={handleLogTicket}\n                    disabled={createMutation.isPending}\n                    style={{ backgroundColor: '#76ab3f' }}\n                  >\n                    {createMutation.isPending ? 'Logging...' : 'Log Ticket'}\n                  </Button>\n                </td>\n              </tr>\n\n              {/* Existing Issues Rows */}\n              {isLoading ? (\n                <tr>\n                  <td colSpan={7} className=\"px-4 py-8 text-center text-gray-500\">\n                    Loading issues...\n                  </td>\n                </tr>\n              ) : issues.length === 0 ? (\n                <tr>\n                  <td colSpan={7} className=\"px-4 py-8 text-center text-gray-500\">\n                    <div className=\"space-y-2\">\n                      <p className=\"font-medium\">No issues found</p>\n                      <p className=\"text-sm text-gray-400\">\n                        {issueFilter === 'active' \n                          ? \"No issues with 'Issue Present = Yes' found. Select 'All Issues' to see all issues, or try selecting a different portfolio or adjusting the date range.\"\n                          : \"No issues found. Try selecting a different portfolio or adjusting the date range.\"}\n                      </p>\n                    </div>\n                  </td>\n                </tr>\n              ) : (\n                issues.map((issue) => (\n                  <tr \n                    key={issue.id} \n                    className=\"hover:bg-blue-50 hover:shadow-sm transition-all duration-200 cursor-pointer border-l-4 border-l-transparent hover:border-l-blue-500\"\n                  >\n                    <td className=\"px-4 py-3 text-sm text-gray-900\">\n                      {issue.portfolio?.name || 'N/A'}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-gray-900\">{issue.issue_hour}</td>\n                    <td className=\"px-4 py-3\">\n                      {/* Show badge based on issue description or status */}\n                      {issue.description && issue.description.toLowerCase() === 'no issue' ? (\n                        <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                          No\n                        </span>\n                      ) : issue.description && issue.description.trim() !== '' ? (\n                        <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n                          Yes\n                        </span>\n                      ) : (\n                        <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                          -\n                        </span>\n                      )}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-gray-900 max-w-xs\">\n                      {issue.description}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">-</td>\n                    <td className=\"px-4 py-3 text-sm text-gray-900\">\n                      {issue.monitored_by?.map(email => email.split('@')[0]).join(', ') || '-'}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">\n                      {formatDateTime(issue.created_at)}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">\n                      {issue.missed_by?.map(email => email.split('@')[0]).join(', ') || '-'}\n                    </td>\n                    <td className=\"px-4 py-3\">\n                      <div className=\"flex gap-2\">\n                        <button\n                          onClick={() => {\n                            // Handle edit\n                            toast('Edit functionality coming soon', { icon: '' })\n                          }}\n                          className=\"text-blue-600 hover:text-blue-800 hover:underline hover:font-semibold text-sm transition-all duration-200\"\n                        >\n                          Edit\n                        </button>\n                        <button\n                          onClick={() => {\n                            if (window.confirm('Are you sure you want to delete this issue?')) {\n                              deleteMutation.mutate(issue.id)\n                            }\n                          }}\n                          className=\"text-red-600 hover:text-red-800 hover:underline hover:font-semibold text-sm transition-all duration-200\"\n                        >\n                          Delete\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default IssueDetailsTable\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}