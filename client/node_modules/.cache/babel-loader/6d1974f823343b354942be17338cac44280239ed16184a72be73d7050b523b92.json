{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LibsysAdmin\\\\OneDrive - Libsys IT Services Private Limited\\\\Desktop\\\\ALLLL HLSC\\\\client\\\\src\\\\components\\\\issues\\\\IssueForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { adminService } from '../../services/adminService';\nimport { useAuth } from '../../context/AuthContext';\nimport Button from '../common/Button';\nimport Modal from '../common/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IssueForm = ({\n  isOpen,\n  onClose,\n  onSubmit,\n  portfolios,\n  isLoading,\n  defaultPortfolioId\n}) => {\n  _s();\n  var _formData$monitored_b;\n  const {\n    user\n  } = useAuth();\n  const [formData, setFormData] = useState({\n    portfolio_id: defaultPortfolioId || '',\n    site_name: '',\n    issue_hour: new Date().getHours(),\n    description: '',\n    severity: 'Medium',\n    status: 'open',\n    monitored_by: [],\n    missed_by: []\n  });\n  const {\n    data: personnel\n  } = useQuery({\n    queryKey: ['personnel'],\n    queryFn: adminService.getPersonnel,\n    enabled: isOpen\n  });\n  useEffect(() => {\n    if (!isOpen) {\n      setFormData({\n        portfolio_id: defaultPortfolioId || '',\n        site_name: '',\n        issue_hour: new Date().getHours(),\n        description: '',\n        severity: 'Medium',\n        status: 'open',\n        monitored_by: [],\n        missed_by: []\n      });\n    } else if (defaultPortfolioId) {\n      setFormData(prev => ({\n        ...prev,\n        portfolio_id: defaultPortfolioId\n      }));\n    }\n  }, [isOpen, defaultPortfolioId]);\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter' && isOpen) {\n        handleSubmit(e);\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isOpen, formData]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!formData.portfolio_id || !formData.site_name || !formData.description) return;\n    onSubmit(formData);\n  };\n  const togglePersonnel = (id, field) => {\n    setFormData(prev => {\n      var _prev$field, _prev$field2;\n      return {\n        ...prev,\n        [field]: (_prev$field = prev[field]) !== null && _prev$field !== void 0 && _prev$field.includes(id) ? ((_prev$field2 = prev[field]) === null || _prev$field2 === void 0 ? void 0 : _prev$field2.filter(p => p !== id)) || [] : [...(prev[field] || []), id]\n      };\n    });\n  };\n  const descriptionLength = formData.description.length;\n  const maxDescriptionLength = 500;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: \"Log New Issue\",\n    size: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold text-gray-700 mb-2\",\n          children: [\"Portfolio * \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-500 text-xs\",\n            children: \"\\u2139\\uFE0F Select the portfolio you're working on\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: formData.portfolio_id,\n          onChange: e => setFormData({\n            ...formData,\n            portfolio_id: e.target.value\n          }),\n          className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base\",\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Portfolio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), portfolios.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: p.id,\n            children: [\"\\uD83C\\uDFE2 \", p.name, \" - \", p.subtitle || 'N/A', \" \", p.site_range ? `(${p.site_range})` : '']\n          }, p.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold text-gray-700 mb-2\",\n          children: \"Site *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: formData.site_name,\n          onChange: e => setFormData({\n            ...formData,\n            site_name: e.target.value\n          }),\n          className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base\",\n          placeholder: \"\\uD83C\\uDF10 Site 15\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-1\",\n          children: \"\\uD83D\\uDCA1 Tip: You can also type the site number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-2\",\n            children: \"Issue Hour *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: formData.issue_hour,\n              onChange: e => setFormData({\n                ...formData,\n                issue_hour: parseInt(e.target.value)\n              }),\n              className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base appearance-none bg-white\",\n              required: true,\n              children: Array.from({\n                length: 24\n              }, (_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: i,\n                children: [\"\\uD83D\\uDD50 \", i, \" \", i === new Date().getHours() ? '(Current)' : '']\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-700 mb-2\",\n            children: \"Severity *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: ['Low', 'Medium', 'High', 'Critical'].map(severity => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2 cursor-pointer\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"severity\",\n                value: severity,\n                checked: formData.severity === severity,\n                onChange: e => setFormData({\n                  ...formData,\n                  severity: e.target.value\n                }),\n                className: \"w-4 h-4 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: [severity === 'Low' && 'üü¢', severity === 'Medium' && 'üü°', severity === 'High' && 'üü†', severity === 'Critical' && 'üî¥', \" \", severity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this)]\n            }, severity, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold text-gray-700 mb-2\",\n          children: \"Description *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: formData.description,\n          onChange: e => setFormData({\n            ...formData,\n            description: e.target.value\n          }),\n          rows: 6,\n          maxLength: maxDescriptionLength,\n          className: `w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base ${descriptionLength > maxDescriptionLength * 0.9 ? 'border-red-300' : 'border-gray-300'}`,\n          placeholder: \"Describe the issue...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-xs mt-1 ${descriptionLength > maxDescriptionLength * 0.9 ? 'text-red-600' : 'text-gray-500'}`,\n          children: [descriptionLength, \" / \", maxDescriptionLength, \" characters\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold text-gray-700 mb-2\",\n          children: \"Monitored By (Who found this issue?) *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: ((_formData$monitored_b = formData.monitored_by) === null || _formData$monitored_b === void 0 ? void 0 : _formData$monitored_b[0]) || '',\n          onChange: e => setFormData({\n            ...formData,\n            monitored_by: e.target.value ? [e.target.value] : []\n          }),\n          className: \"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base\",\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Person\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: (user === null || user === void 0 ? void 0 : user.id) || '',\n            children: [\"\\uD83D\\uDC64 \", (user === null || user === void 0 ? void 0 : user.fullName) || (user === null || user === void 0 ? void 0 : user.email), \" (You)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), personnel === null || personnel === void 0 ? void 0 : personnel.filter(p => p.is_active).map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: p.id,\n            children: [\"\\uD83D\\uDC64 \", p.name]\n          }, p.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold text-gray-700 mb-2\",\n          children: \"Issues Missed By (Optional - Who should have caught this?)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border border-gray-300 rounded-lg p-3 max-h-32 overflow-y-auto\",\n          children: personnel === null || personnel === void 0 ? void 0 : personnel.filter(p => p.is_active).map(p => {\n            var _formData$missed_by;\n            return /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center gap-2 py-1 cursor-pointer\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: ((_formData$missed_by = formData.missed_by) === null || _formData$missed_by === void 0 ? void 0 : _formData$missed_by.includes(p.id)) || false,\n                onChange: () => togglePersonnel(p.id, 'missed_by'),\n                className: \"w-4 h-4 text-blue-600 rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: [\"\\uD83D\\uDC64 \", p.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this)]\n            }, p.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), formData.missed_by && formData.missed_by.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-1\",\n          children: [formData.missed_by.length, \" selected\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-semibold text-gray-700 mb-2\",\n          children: \"\\uD83D\\uDCCE Attachments (Optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-2\",\n            children: \"[+] Drop files here or click to upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Supported: JPG, PNG, PDF (Max 10MB each)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-3\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-yellow-800\",\n          children: \"\\u26A0\\uFE0F Note: Portfolio will be locked for 30 minutes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3 pt-4 border-t border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          variant: \"secondary\",\n          onClick: onClose,\n          className: \"flex-1\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          isLoading: isLoading,\n          className: \"flex-1\",\n          disabled: !formData.portfolio_id || !formData.site_name || !formData.description,\n          children: \"\\u2705 Submit Issue (Ctrl+Enter)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s(IssueForm, \"l+KtCvvgsPLNdkrdBZpY6IzwiVg=\", false, function () {\n  return [useAuth, useQuery];\n});\n_c = IssueForm;\nexport default IssueForm;\nvar _c;\n$RefreshReg$(_c, \"IssueForm\");","map":{"version":3,"names":["React","useEffect","useState","useQuery","adminService","useAuth","Button","Modal","jsxDEV","_jsxDEV","IssueForm","isOpen","onClose","onSubmit","portfolios","isLoading","defaultPortfolioId","_s","_formData$monitored_b","user","formData","setFormData","portfolio_id","site_name","issue_hour","Date","getHours","description","severity","status","monitored_by","missed_by","data","personnel","queryKey","queryFn","getPersonnel","enabled","prev","handleKeyDown","e","ctrlKey","metaKey","key","handleSubmit","document","addEventListener","removeEventListener","preventDefault","togglePersonnel","id","field","_prev$field","_prev$field2","includes","filter","p","descriptionLength","length","maxDescriptionLength","title","size","children","className","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","required","map","name","subtitle","site_range","type","placeholder","parseInt","Array","from","_","i","checked","rows","maxLength","fullName","email","is_active","_formData$missed_by","variant","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/LibsysAdmin/OneDrive - Libsys IT Services Private Limited/Desktop/ALLLL HLSC/client/src/components/issues/IssueForm.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { CreateIssueData } from '../../types/issue.types'\nimport { Portfolio } from '../../types/portfolio.types'\nimport { useQuery } from '@tanstack/react-query'\nimport { adminService } from '../../services/adminService'\nimport { useAuth } from '../../context/AuthContext'\nimport Input from '../common/Input'\nimport Button from '../common/Button'\nimport Modal from '../common/Modal'\n\ninterface IssueFormProps {\n  isOpen: boolean\n  onClose: () => void\n  onSubmit: (data: CreateIssueData) => void\n  portfolios: Portfolio[]\n  isLoading?: boolean\n  defaultPortfolioId?: string\n}\n\nconst IssueForm: React.FC<IssueFormProps> = ({ \n  isOpen, \n  onClose, \n  onSubmit, \n  portfolios, \n  isLoading,\n  defaultPortfolioId \n}) => {\n  const { user } = useAuth()\n  const [formData, setFormData] = useState<CreateIssueData>({\n    portfolio_id: defaultPortfolioId || '',\n    site_name: '',\n    issue_hour: new Date().getHours(),\n    description: '',\n    severity: 'Medium',\n    status: 'open',\n    monitored_by: [],\n    missed_by: [],\n  })\n\n  const { data: personnel } = useQuery({\n    queryKey: ['personnel'],\n    queryFn: adminService.getPersonnel,\n    enabled: isOpen,\n  })\n\n  useEffect(() => {\n    if (!isOpen) {\n      setFormData({\n        portfolio_id: defaultPortfolioId || '',\n        site_name: '',\n        issue_hour: new Date().getHours(),\n        description: '',\n        severity: 'Medium',\n        status: 'open',\n        monitored_by: [],\n        missed_by: [],\n      })\n    } else if (defaultPortfolioId) {\n      setFormData(prev => ({ ...prev, portfolio_id: defaultPortfolioId }))\n    }\n  }, [isOpen, defaultPortfolioId])\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter' && isOpen) {\n        handleSubmit(e as any)\n      }\n    }\n    document.addEventListener('keydown', handleKeyDown)\n    return () => document.removeEventListener('keydown', handleKeyDown)\n  }, [isOpen, formData])\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!formData.portfolio_id || !formData.site_name || !formData.description) return\n    onSubmit(formData)\n  }\n\n  const togglePersonnel = (id: string, field: 'monitored_by' | 'missed_by') => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: prev[field]?.includes(id)\n        ? prev[field]?.filter(p => p !== id) || []\n        : [...(prev[field] || []), id]\n    }))\n  }\n\n  const descriptionLength = formData.description.length\n  const maxDescriptionLength = 500\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title=\"Log New Issue\" size=\"lg\">\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {/* Portfolio */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n            Portfolio * <span className=\"text-blue-500 text-xs\">‚ÑπÔ∏è Select the portfolio you're working on</span>\n          </label>\n          <select\n            value={formData.portfolio_id}\n            onChange={(e) => setFormData({ ...formData, portfolio_id: e.target.value })}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base\"\n            required\n          >\n            <option value=\"\">Select Portfolio</option>\n            {portfolios.map((p) => (\n              <option key={p.id} value={p.id}>\n                üè¢ {p.name} - {p.subtitle || 'N/A'} {p.site_range ? `(${p.site_range})` : ''}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Site Name */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Site *</label>\n          <input\n            type=\"text\"\n            value={formData.site_name}\n            onChange={(e) => setFormData({ ...formData, site_name: e.target.value })}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base\"\n            placeholder=\"üåê Site 15\"\n            required\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">üí° Tip: You can also type the site number</p>\n        </div>\n\n        {/* Issue Hour and Severity */}\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Issue Hour *</label>\n            <div className=\"relative\">\n              <select\n                value={formData.issue_hour}\n                onChange={(e) => setFormData({ ...formData, issue_hour: parseInt(e.target.value) })}\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base appearance-none bg-white\"\n                required\n              >\n                {Array.from({ length: 24 }, (_, i) => (\n                  <option key={i} value={i}>\n                    üïê {i} {i === new Date().getHours() ? '(Current)' : ''}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Severity *</label>\n            <div className=\"space-y-2\">\n              {(['Low', 'Medium', 'High', 'Critical'] as const).map((severity) => (\n                <label key={severity} className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"radio\"\n                    name=\"severity\"\n                    value={severity}\n                    checked={formData.severity === severity}\n                    onChange={(e) => setFormData({ ...formData, severity: e.target.value as any })}\n                    className=\"w-4 h-4 text-blue-600\"\n                  />\n                  <span className=\"text-sm\">\n                    {severity === 'Low' && 'üü¢'}\n                    {severity === 'Medium' && 'üü°'}\n                    {severity === 'High' && 'üü†'}\n                    {severity === 'Critical' && 'üî¥'} {severity}\n                  </span>\n                </label>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Description */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Description *</label>\n          <textarea\n            value={formData.description}\n            onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n            rows={6}\n            maxLength={maxDescriptionLength}\n            className={`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base ${\n              descriptionLength > maxDescriptionLength * 0.9\n                ? 'border-red-300'\n                : 'border-gray-300'\n            }`}\n            placeholder=\"Describe the issue...\"\n            required\n          />\n          <p className={`text-xs mt-1 ${\n            descriptionLength > maxDescriptionLength * 0.9 ? 'text-red-600' : 'text-gray-500'\n          }`}>\n            {descriptionLength} / {maxDescriptionLength} characters\n          </p>\n        </div>\n\n        {/* Monitored By */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n            Monitored By (Who found this issue?) *\n          </label>\n          <select\n            value={formData.monitored_by?.[0] || ''}\n            onChange={(e) => setFormData({ \n              ...formData, \n              monitored_by: e.target.value ? [e.target.value] : [] \n            })}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-base\"\n            required\n          >\n            <option value=\"\">Select Person</option>\n            <option value={user?.id || ''}>üë§ {user?.fullName || user?.email} (You)</option>\n            {personnel?.filter(p => p.is_active).map((p) => (\n              <option key={p.id} value={p.id}>\n                üë§ {p.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Issues Missed By */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n            Issues Missed By (Optional - Who should have caught this?)\n          </label>\n          <div className=\"border border-gray-300 rounded-lg p-3 max-h-32 overflow-y-auto\">\n            {personnel?.filter(p => p.is_active).map((p) => (\n              <label key={p.id} className=\"flex items-center gap-2 py-1 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.missed_by?.includes(p.id) || false}\n                  onChange={() => togglePersonnel(p.id, 'missed_by')}\n                  className=\"w-4 h-4 text-blue-600 rounded\"\n                />\n                <span className=\"text-sm\">üë§ {p.name}</span>\n              </label>\n            ))}\n          </div>\n          {formData.missed_by && formData.missed_by.length > 0 && (\n            <p className=\"text-xs text-gray-500 mt-1\">{formData.missed_by.length} selected</p>\n          )}\n        </div>\n\n        {/* Attachments */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n            üìé Attachments (Optional)\n          </label>\n          <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer\">\n            <p className=\"text-gray-600 mb-2\">[+] Drop files here or click to upload</p>\n            <p className=\"text-xs text-gray-500\">Supported: JPG, PNG, PDF (Max 10MB each)</p>\n          </div>\n        </div>\n\n        {/* Warning */}\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n          <p className=\"text-sm text-yellow-800\">\n            ‚ö†Ô∏è Note: Portfolio will be locked for 30 minutes\n          </p>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex gap-3 pt-4 border-t border-gray-200\">\n          <Button type=\"button\" variant=\"secondary\" onClick={onClose} className=\"flex-1\">\n            Cancel\n          </Button>\n          <Button \n            type=\"submit\" \n            isLoading={isLoading} \n            className=\"flex-1\"\n            disabled={!formData.portfolio_id || !formData.site_name || !formData.description}\n          >\n            ‚úÖ Submit Issue (Ctrl+Enter)\n          </Button>\n        </div>\n      </form>\n    </Modal>\n  )\n}\n\nexport default IssueForm\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}