{"ast":null,"code":"import api from './api';\nexport const analyticsService = {\n  getDashboardStats: async () => {\n    const response = await api.get('/analytics/dashboard');\n    return response.data.data;\n  },\n  getHourlyCoverage: async () => {\n    const response = await api.get('/analytics/hourly-coverage');\n    return response.data.data || [];\n  },\n  getIssuesOverTime: async (days = 30) => {\n    const response = await api.get(`/analytics/issues-over-time?days=${days}`);\n    return response.data.data || [];\n  },\n  getPortfolioHeatmap: async () => {\n    const response = await api.get('/analytics/portfolio-heatmap');\n    return response.data.data || [];\n  },\n  getCoverageMatrix: async () => {\n    const response = await api.get('/analytics/coverage-matrix');\n    return response.data.data;\n  },\n  getPortfolioActivity: async () => {\n    try {\n      const response = await api.get('/analytics/portfolio-activity');\n      console.log('Portfolio activity API response:', response.data);\n      if (response.data.success && response.data.data) {\n        return response.data.data;\n      }\n      return [];\n    } catch (error) {\n      var _error$response;\n      console.error('Error fetching portfolio activity:', error);\n      console.error('Error response:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      throw error;\n    }\n  },\n  getHourlyCoverageWithDateRange: async (startDate, endDate) => {\n    const params = new URLSearchParams();\n    if (startDate) params.append('startDate', startDate);\n    if (endDate) params.append('endDate', endDate);\n    const queryString = params.toString();\n    const url = `/analytics/hourly-coverage-range${queryString ? `?${queryString}` : ''}`;\n    const response = await api.get(url);\n    return response.data.data || [];\n  }\n};","map":{"version":3,"names":["api","analyticsService","getDashboardStats","response","get","data","getHourlyCoverage","getIssuesOverTime","days","getPortfolioHeatmap","getCoverageMatrix","getPortfolioActivity","console","log","success","error","_error$response","getHourlyCoverageWithDateRange","startDate","endDate","params","URLSearchParams","append","queryString","toString","url"],"sources":["C:/Users/LibsysAdmin/OneDrive - Libsys IT Services Private Limited/Desktop/ALLLL HLSC/client/src/services/analyticsService.ts"],"sourcesContent":["import api from './api'\nimport { ApiResponse } from '../types/api.types'\nimport {\n  DashboardStats,\n  HourlyCoverage,\n  IssuesOverTime,\n  PortfolioHeatmap,\n  CoverageMatrix,\n  PortfolioActivity,\n} from '../types/analytics.types'\n\nexport const analyticsService = {\n  getDashboardStats: async (): Promise<DashboardStats> => {\n    const response = await api.get<ApiResponse<DashboardStats>>('/analytics/dashboard')\n    return response.data.data!\n  },\n\n  getHourlyCoverage: async (): Promise<HourlyCoverage[]> => {\n    const response = await api.get<ApiResponse<HourlyCoverage[]>>('/analytics/hourly-coverage')\n    return response.data.data || []\n  },\n\n  getIssuesOverTime: async (days: number = 30): Promise<IssuesOverTime[]> => {\n    const response = await api.get<ApiResponse<IssuesOverTime[]>>(`/analytics/issues-over-time?days=${days}`)\n    return response.data.data || []\n  },\n\n  getPortfolioHeatmap: async (): Promise<PortfolioHeatmap[]> => {\n    const response = await api.get<ApiResponse<PortfolioHeatmap[]>>('/analytics/portfolio-heatmap')\n    return response.data.data || []\n  },\n\n  getCoverageMatrix: async (): Promise<CoverageMatrix> => {\n    const response = await api.get<ApiResponse<CoverageMatrix>>('/analytics/coverage-matrix')\n    return response.data.data!\n  },\n\n  getPortfolioActivity: async (): Promise<PortfolioActivity[]> => {\n    try {\n      const response = await api.get<ApiResponse<PortfolioActivity[]>>('/analytics/portfolio-activity')\n      console.log('Portfolio activity API response:', response.data)\n      if (response.data.success && response.data.data) {\n        return response.data.data\n      }\n      return []\n    } catch (error: any) {\n      console.error('Error fetching portfolio activity:', error)\n      console.error('Error response:', error.response?.data)\n      throw error\n    }\n  },\n\n  getHourlyCoverageWithDateRange: async (startDate?: string, endDate?: string): Promise<HourlyCoverage[]> => {\n    const params = new URLSearchParams()\n    if (startDate) params.append('startDate', startDate)\n    if (endDate) params.append('endDate', endDate)\n    const queryString = params.toString()\n    const url = `/analytics/hourly-coverage-range${queryString ? `?${queryString}` : ''}`\n    const response = await api.get<ApiResponse<HourlyCoverage[]>>(url)\n    return response.data.data || []\n  },\n}\n\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAWvB,OAAO,MAAMC,gBAAgB,GAAG;EAC9BC,iBAAiB,EAAE,MAAAA,CAAA,KAAqC;IACtD,MAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAA8B,sBAAsB,CAAC;IACnF,OAAOD,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B,CAAC;EAEDC,iBAAiB,EAAE,MAAAA,CAAA,KAAuC;IACxD,MAAMH,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAgC,4BAA4B,CAAC;IAC3F,OAAOD,QAAQ,CAACE,IAAI,CAACA,IAAI,IAAI,EAAE;EACjC,CAAC;EAEDE,iBAAiB,EAAE,MAAAA,CAAOC,IAAY,GAAG,EAAE,KAAgC;IACzE,MAAML,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAgC,oCAAoCI,IAAI,EAAE,CAAC;IACzG,OAAOL,QAAQ,CAACE,IAAI,CAACA,IAAI,IAAI,EAAE;EACjC,CAAC;EAEDI,mBAAmB,EAAE,MAAAA,CAAA,KAAyC;IAC5D,MAAMN,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAkC,8BAA8B,CAAC;IAC/F,OAAOD,QAAQ,CAACE,IAAI,CAACA,IAAI,IAAI,EAAE;EACjC,CAAC;EAEDK,iBAAiB,EAAE,MAAAA,CAAA,KAAqC;IACtD,MAAMP,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAA8B,4BAA4B,CAAC;IACzF,OAAOD,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B,CAAC;EAEDM,oBAAoB,EAAE,MAAAA,CAAA,KAA0C;IAC9D,IAAI;MACF,MAAMR,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAmC,+BAA+B,CAAC;MACjGQ,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAEV,QAAQ,CAACE,IAAI,CAAC;MAC9D,IAAIF,QAAQ,CAACE,IAAI,CAACS,OAAO,IAAIX,QAAQ,CAACE,IAAI,CAACA,IAAI,EAAE;QAC/C,OAAOF,QAAQ,CAACE,IAAI,CAACA,IAAI;MAC3B;MACA,OAAO,EAAE;IACX,CAAC,CAAC,OAAOU,KAAU,EAAE;MAAA,IAAAC,eAAA;MACnBJ,OAAO,CAACG,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC1DH,OAAO,CAACG,KAAK,CAAC,iBAAiB,GAAAC,eAAA,GAAED,KAAK,CAACZ,QAAQ,cAAAa,eAAA,uBAAdA,eAAA,CAAgBX,IAAI,CAAC;MACtD,MAAMU,KAAK;IACb;EACF,CAAC;EAEDE,8BAA8B,EAAE,MAAAA,CAAOC,SAAkB,EAAEC,OAAgB,KAAgC;IACzG,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpC,IAAIH,SAAS,EAAEE,MAAM,CAACE,MAAM,CAAC,WAAW,EAAEJ,SAAS,CAAC;IACpD,IAAIC,OAAO,EAAEC,MAAM,CAACE,MAAM,CAAC,SAAS,EAAEH,OAAO,CAAC;IAC9C,MAAMI,WAAW,GAAGH,MAAM,CAACI,QAAQ,CAAC,CAAC;IACrC,MAAMC,GAAG,GAAG,mCAAmCF,WAAW,GAAG,IAAIA,WAAW,EAAE,GAAG,EAAE,EAAE;IACrF,MAAMpB,QAAQ,GAAG,MAAMH,GAAG,CAACI,GAAG,CAAgCqB,GAAG,CAAC;IAClE,OAAOtB,QAAQ,CAACE,IAAI,CAACA,IAAI,IAAI,EAAE;EACjC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}