{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LibsysAdmin\\\\OneDrive - Libsys IT Services Private Limited\\\\Desktop\\\\ALLLL HLSC\\\\client\\\\src\\\\components\\\\dashboard\\\\IssueDetailsTable.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { issueService } from '../../services/issueService';\nimport { portfolioService } from '../../services/portfolioService';\nimport { useAuth } from '../../context/AuthContext';\nimport toast from 'react-hot-toast';\nimport Button from '../common/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IssueDetailsTable = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const queryClient = useQueryClient();\n\n  // Search and filter states\n  const [searchQuery, setSearchQuery] = useState('');\n  const [dateFilter, setDateFilter] = useState('');\n  const [hourFilter, setHourFilter] = useState('all');\n  const [issueFilter, setIssueFilter] = useState('active');\n\n  // Export states\n  const [fromDate, setFromDate] = useState('');\n  const [toDate, setToDate] = useState('');\n\n  // New issue form states\n  const [newIssue, setNewIssue] = useState({\n    portfolio_id: '',\n    issue_hour: new Date().getHours(),\n    description: '',\n    monitored_by: user !== null && user !== void 0 && user.email ? [user.email] : []\n  });\n  const [issuePresent, setIssuePresent] = useState('');\n  const [caseNumber, setCaseNumber] = useState('');\n  const [missedAlertsBy, setMissedAlertsBy] = useState('');\n\n  // Fetch portfolios\n  const {\n    data: portfolios = []\n  } = useQuery({\n    queryKey: ['portfolios'],\n    queryFn: portfolioService.getAll\n  });\n\n  // Build filters for API\n  const buildFilters = () => {\n    const filters = {};\n    if (searchQuery) filters.search = searchQuery;\n    if (dateFilter) {\n      // Add date filtering logic here when backend supports it\n    }\n    if (hourFilter !== 'all') {\n      filters.issue_hour = parseInt(hourFilter);\n    }\n    if (issueFilter === 'active') {\n      filters.status = 'open';\n    }\n    return filters;\n  };\n\n  // Fetch issues\n  const {\n    data: issues = [],\n    isLoading\n  } = useQuery({\n    queryKey: ['issues', buildFilters()],\n    queryFn: () => issueService.getAll(buildFilters())\n  });\n\n  // Create issue mutation\n  const createMutation = useMutation({\n    mutationFn: issueService.create,\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['issues']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['portfolio-activity']\n      });\n      toast.success('Issue logged successfully');\n      // Reset form\n      setNewIssue({\n        portfolio_id: '',\n        issue_hour: new Date().getHours(),\n        description: '',\n        monitored_by: user !== null && user !== void 0 && user.email ? [user.email] : []\n      });\n      setIssuePresent('');\n      setCaseNumber('');\n      setMissedAlertsBy('');\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to log issue');\n    }\n  });\n\n  // Update issue mutation\n  const updateMutation = useMutation({\n    mutationFn: ({\n      id,\n      data\n    }) => issueService.update(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['issues']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['portfolio-activity']\n      });\n      toast.success('Issue updated successfully');\n    },\n    onError: error => {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to update issue');\n    }\n  });\n\n  // Delete issue mutation\n  const deleteMutation = useMutation({\n    mutationFn: issueService.delete,\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: ['issues']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['portfolio-activity']\n      });\n      toast.success('Issue deleted successfully');\n    },\n    onError: error => {\n      var _error$response3, _error$response3$data;\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Failed to delete issue');\n    }\n  });\n  const handleLogTicket = () => {\n    if (!newIssue.portfolio_id || !newIssue.description) {\n      toast.error('Please fill in required fields');\n      return;\n    }\n    const issueData = {\n      portfolio_id: newIssue.portfolio_id,\n      site_name: '',\n      issue_hour: newIssue.issue_hour || new Date().getHours(),\n      description: newIssue.description,\n      severity: 'Medium',\n      status: 'open',\n      monitored_by: newIssue.monitored_by,\n      notes: caseNumber ? `Case #: ${caseNumber}` : undefined\n    };\n    createMutation.mutate(issueData);\n  };\n  const handleClearFilters = () => {\n    setSearchQuery('');\n    setDateFilter('');\n    setHourFilter('all');\n    setIssueFilter('active');\n  };\n  const handleQuickRange = range => {\n    const today = new Date();\n    const formatDate = date => {\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const year = date.getFullYear();\n      return `${month}/${day}/${year}`;\n    };\n    if (range === 'today') {\n      setFromDate(formatDate(today));\n      setToDate(formatDate(today));\n    } else if (range === 'week') {\n      const weekAgo = new Date(today);\n      weekAgo.setDate(today.getDate() - 7);\n      setFromDate(formatDate(weekAgo));\n      setToDate(formatDate(today));\n    } else if (range === 'month') {\n      const monthAgo = new Date(today);\n      monthAgo.setMonth(today.getMonth() - 1);\n      setFromDate(formatDate(monthAgo));\n      setToDate(formatDate(today));\n    }\n  };\n  const handleExport = async type => {\n    try {\n      const filters = {};\n      if (fromDate) {\n        // Add date filtering when backend supports it\n      }\n      if (toDate) {\n        // Add date filtering when backend supports it\n      }\n      if (type === 'active') {\n        filters.status = 'open';\n      }\n      const data = await issueService.export(filters);\n      // Handle export download\n      toast.success('Export initiated');\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      toast.error(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || 'Failed to export issues');\n    }\n  };\n  const formatDateTime = dateString => {\n    const date = new Date(dateString);\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    const year = date.getFullYear();\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    return `${month}/${day}/${year}, ${hours}:${minutes}`;\n  };\n  const getCurrentDateTime = () => {\n    const now = new Date();\n    return formatDateTime(now.toISOString());\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-50 rounded-lg shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4\",\n        children: \"Search Issues\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Search by portfolio, issue details, case number, or monitored by...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            placeholder: \"Search...\",\n            className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Date Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: dateFilter,\n              onChange: e => setDateFilter(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Hour Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: hourFilter,\n              onChange: e => setHourFilter(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Hours\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), Array.from({\n                length: 24\n              }, (_, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: i.toString(),\n                children: [i, \":00\"]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Issue Filter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: issueFilter,\n              onChange: e => setIssueFilter(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"active\",\n                children: \"Active Issues (Default)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Issues\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"resolved\",\n                children: \"Resolved Issues\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-end\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: handleClearFilters,\n              className: \"w-full\",\n              children: \"Clear Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4\",\n        children: \"Export Issues\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"FROM DATE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: fromDate,\n              onChange: e => setFromDate(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"TO DATE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: toDate,\n              onChange: e => setToDate(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"QUICK RANGE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                size: \"sm\",\n                onClick: () => handleQuickRange('today'),\n                className: \"flex-1\",\n                children: \"Today\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                size: \"sm\",\n                onClick: () => handleQuickRange('week'),\n                className: \"flex-1\",\n                children: \"This Week\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                size: \"sm\",\n                onClick: () => handleQuickRange('month'),\n                className: \"flex-1\",\n                children: \"This Month\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => handleExport('all'),\n            className: \"flex-1\",\n            children: \"Export All Issues\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: () => handleExport('active'),\n            className: \"flex-1\",\n            children: \"Export Active Issues\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"PORTFOLIO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"HOUR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"ISSUE PRESENT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"ISSUE DESCRIPTION\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"CASE #\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"MONITORED BY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"DATE/TIME\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"MISSED ALERTS BY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\",\n                children: \"ACTIONS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: newIssue.portfolio_id || '',\n                  onChange: e => setNewIssue({\n                    ...newIssue,\n                    portfolio_id: e.target.value\n                  }),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Portfolio\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 21\n                  }, this), portfolios.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: p.id,\n                    children: p.name\n                  }, p.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"0\",\n                  max: \"23\",\n                  value: newIssue.issue_hour || '',\n                  onChange: e => setNewIssue({\n                    ...newIssue,\n                    issue_hour: parseInt(e.target.value) || 0\n                  }),\n                  className: \"w-20 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: issuePresent,\n                  onChange: e => setIssuePresent(e.target.value),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"yes\",\n                    children: \"Yes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"no\",\n                    children: \"No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newIssue.description || '',\n                  onChange: e => setNewIssue({\n                    ...newIssue,\n                    description: e.target.value\n                  }),\n                  placeholder: \"Select issue present first\",\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: caseNumber,\n                  onChange: e => setCaseNumber(e.target.value),\n                  placeholder: \"Case #\",\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  size: \"sm\",\n                  className: \"text-xs\",\n                  style: {\n                    backgroundColor: '#76ab3f'\n                  },\n                  children: [(user === null || user === void 0 ? void 0 : user.email) || 'admin', \"LOCKED\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3 text-sm text-gray-600\",\n                children: getCurrentDateTime()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: missedAlertsBy,\n                  onChange: e => setMissedAlertsBy(e.target.value),\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                  children: /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-3\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  size: \"sm\",\n                  onClick: handleLogTicket,\n                  disabled: createMutation.isPending,\n                  style: {\n                    backgroundColor: '#76ab3f'\n                  },\n                  children: createMutation.isPending ? 'Logging...' : 'Log Ticket'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 9,\n                className: \"px-4 py-8 text-center text-gray-500\",\n                children: \"Loading issues...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this) : issues.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 9,\n                className: \"px-4 py-8 text-center text-gray-500\",\n                children: \"No issues found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this) : issues.map(issue => {\n              var _issue$portfolio, _issue$monitored_by, _issue$missed_by;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-900\",\n                  children: ((_issue$portfolio = issue.portfolio) === null || _issue$portfolio === void 0 ? void 0 : _issue$portfolio.name) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-900\",\n                  children: issue.issue_hour\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `px-3 py-1 rounded text-xs font-medium ${issue.status === 'open' ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`,\n                    children: issue.status === 'open' ? 'Yes' : 'No'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-900 max-w-xs\",\n                  children: issue.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-600\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-900\",\n                  children: ((_issue$monitored_by = issue.monitored_by) === null || _issue$monitored_by === void 0 ? void 0 : _issue$monitored_by.join(', ')) || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-600\",\n                  children: formatDateTime(issue.created_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3 text-sm text-gray-600\",\n                  children: ((_issue$missed_by = issue.missed_by) === null || _issue$missed_by === void 0 ? void 0 : _issue$missed_by.join(', ')) || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        // Handle edit\n                        toast.info('Edit functionality coming soon');\n                      },\n                      className: \"text-blue-600 hover:text-blue-800 text-sm\",\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        if (window.confirm('Are you sure you want to delete this issue?')) {\n                          deleteMutation.mutate(issue.id);\n                        }\n                      },\n                      className: \"text-red-600 hover:text-red-800 text-sm\",\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 21\n                }, this)]\n              }, issue.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n};\n_s(IssueDetailsTable, \"RNjjaUkQLIT4EQwZt+rMoU9zjtk=\", false, function () {\n  return [useAuth, useQueryClient, useQuery, useQuery, useMutation, useMutation, useMutation];\n});\n_c = IssueDetailsTable;\nexport default IssueDetailsTable;\nvar _c;\n$RefreshReg$(_c, \"IssueDetailsTable\");","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","issueService","portfolioService","useAuth","toast","Button","jsxDEV","_jsxDEV","IssueDetailsTable","_s","user","queryClient","searchQuery","setSearchQuery","dateFilter","setDateFilter","hourFilter","setHourFilter","issueFilter","setIssueFilter","fromDate","setFromDate","toDate","setToDate","newIssue","setNewIssue","portfolio_id","issue_hour","Date","getHours","description","monitored_by","email","issuePresent","setIssuePresent","caseNumber","setCaseNumber","missedAlertsBy","setMissedAlertsBy","data","portfolios","queryKey","queryFn","getAll","buildFilters","filters","search","parseInt","status","issues","isLoading","createMutation","mutationFn","create","onSuccess","invalidateQueries","success","onError","error","_error$response","_error$response$data","response","updateMutation","id","update","_error$response2","_error$response2$data","deleteMutation","delete","_error$response3","_error$response3$data","handleLogTicket","issueData","site_name","severity","notes","undefined","mutate","handleClearFilters","handleQuickRange","range","today","formatDate","date","month","String","getMonth","padStart","day","getDate","year","getFullYear","weekAgo","setDate","monthAgo","setMonth","handleExport","type","export","_error$response4","_error$response4$data","formatDateTime","dateString","hours","minutes","getMinutes","getCurrentDateTime","now","toISOString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","Array","from","length","_","i","toString","variant","onClick","size","map","p","name","min","max","style","backgroundColor","disabled","isPending","colSpan","issue","_issue$portfolio","_issue$monitored_by","_issue$missed_by","portfolio","join","created_at","missed_by","info","window","confirm","_c","$RefreshReg$"],"sources":["C:/Users/LibsysAdmin/OneDrive - Libsys IT Services Private Limited/Desktop/ALLLL HLSC/client/src/components/dashboard/IssueDetailsTable.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { issueService, IssueFilters } from '../../services/issueService'\r\nimport { portfolioService } from '../../services/portfolioService'\r\nimport { Issue, CreateIssueData } from '../../types/issue.types'\r\nimport { Portfolio } from '../../types/portfolio.types'\r\nimport { useAuth } from '../../context/AuthContext'\r\nimport toast from 'react-hot-toast'\r\nimport Button from '../common/Button'\r\n\r\nconst IssueDetailsTable: React.FC = () => {\r\n  const { user } = useAuth()\r\n  const queryClient = useQueryClient()\r\n  \r\n  // Search and filter states\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [dateFilter, setDateFilter] = useState('')\r\n  const [hourFilter, setHourFilter] = useState<string>('all')\r\n  const [issueFilter, setIssueFilter] = useState<string>('active')\r\n  \r\n  // Export states\r\n  const [fromDate, setFromDate] = useState('')\r\n  const [toDate, setToDate] = useState('')\r\n  \r\n  // New issue form states\r\n  const [newIssue, setNewIssue] = useState<Partial<CreateIssueData>>({\r\n    portfolio_id: '',\r\n    issue_hour: new Date().getHours(),\r\n    description: '',\r\n    monitored_by: user?.email ? [user.email] : [],\r\n  })\r\n  const [issuePresent, setIssuePresent] = useState<string>('')\r\n  const [caseNumber, setCaseNumber] = useState('')\r\n  const [missedAlertsBy, setMissedAlertsBy] = useState<string>('')\r\n\r\n  // Fetch portfolios\r\n  const { data: portfolios = [] } = useQuery<Portfolio[]>({\r\n    queryKey: ['portfolios'],\r\n    queryFn: portfolioService.getAll,\r\n  })\r\n\r\n  // Build filters for API\r\n  const buildFilters = (): IssueFilters => {\r\n    const filters: IssueFilters = {}\r\n    if (searchQuery) filters.search = searchQuery\r\n    if (dateFilter) {\r\n      // Add date filtering logic here when backend supports it\r\n    }\r\n    if (hourFilter !== 'all') {\r\n      filters.issue_hour = parseInt(hourFilter)\r\n    }\r\n    if (issueFilter === 'active') {\r\n      filters.status = 'open'\r\n    }\r\n    return filters\r\n  }\r\n\r\n  // Fetch issues\r\n  const { data: issues = [], isLoading } = useQuery<Issue[]>({\r\n    queryKey: ['issues', buildFilters()],\r\n    queryFn: () => issueService.getAll(buildFilters()),\r\n  })\r\n\r\n  // Create issue mutation\r\n  const createMutation = useMutation({\r\n    mutationFn: issueService.create,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['issues'] })\r\n      queryClient.invalidateQueries({ queryKey: ['portfolio-activity'] })\r\n      toast.success('Issue logged successfully')\r\n      // Reset form\r\n      setNewIssue({\r\n        portfolio_id: '',\r\n        issue_hour: new Date().getHours(),\r\n        description: '',\r\n        monitored_by: user?.email ? [user.email] : [],\r\n      })\r\n      setIssuePresent('')\r\n      setCaseNumber('')\r\n      setMissedAlertsBy('')\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(error.response?.data?.error || 'Failed to log issue')\r\n    },\r\n  })\r\n\r\n  // Update issue mutation\r\n  const updateMutation = useMutation({\r\n    mutationFn: ({ id, data }: { id: string; data: any }) => issueService.update(id, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['issues'] })\r\n      queryClient.invalidateQueries({ queryKey: ['portfolio-activity'] })\r\n      toast.success('Issue updated successfully')\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(error.response?.data?.error || 'Failed to update issue')\r\n    },\r\n  })\r\n\r\n  // Delete issue mutation\r\n  const deleteMutation = useMutation({\r\n    mutationFn: issueService.delete,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['issues'] })\r\n      queryClient.invalidateQueries({ queryKey: ['portfolio-activity'] })\r\n      toast.success('Issue deleted successfully')\r\n    },\r\n    onError: (error: any) => {\r\n      toast.error(error.response?.data?.error || 'Failed to delete issue')\r\n    },\r\n  })\r\n\r\n  const handleLogTicket = () => {\r\n    if (!newIssue.portfolio_id || !newIssue.description) {\r\n      toast.error('Please fill in required fields')\r\n      return\r\n    }\r\n\r\n    const issueData: CreateIssueData = {\r\n      portfolio_id: newIssue.portfolio_id!,\r\n      site_name: '',\r\n      issue_hour: newIssue.issue_hour || new Date().getHours(),\r\n      description: newIssue.description!,\r\n      severity: 'Medium',\r\n      status: 'open',\r\n      monitored_by: newIssue.monitored_by,\r\n      notes: caseNumber ? `Case #: ${caseNumber}` : undefined,\r\n    }\r\n\r\n    createMutation.mutate(issueData)\r\n  }\r\n\r\n  const handleClearFilters = () => {\r\n    setSearchQuery('')\r\n    setDateFilter('')\r\n    setHourFilter('all')\r\n    setIssueFilter('active')\r\n  }\r\n\r\n  const handleQuickRange = (range: 'today' | 'week' | 'month') => {\r\n    const today = new Date()\r\n    const formatDate = (date: Date) => {\r\n      const month = String(date.getMonth() + 1).padStart(2, '0')\r\n      const day = String(date.getDate()).padStart(2, '0')\r\n      const year = date.getFullYear()\r\n      return `${month}/${day}/${year}`\r\n    }\r\n\r\n    if (range === 'today') {\r\n      setFromDate(formatDate(today))\r\n      setToDate(formatDate(today))\r\n    } else if (range === 'week') {\r\n      const weekAgo = new Date(today)\r\n      weekAgo.setDate(today.getDate() - 7)\r\n      setFromDate(formatDate(weekAgo))\r\n      setToDate(formatDate(today))\r\n    } else if (range === 'month') {\r\n      const monthAgo = new Date(today)\r\n      monthAgo.setMonth(today.getMonth() - 1)\r\n      setFromDate(formatDate(monthAgo))\r\n      setToDate(formatDate(today))\r\n    }\r\n  }\r\n\r\n  const handleExport = async (type: 'all' | 'active') => {\r\n    try {\r\n      const filters: IssueFilters = {}\r\n      if (fromDate) {\r\n        // Add date filtering when backend supports it\r\n      }\r\n      if (toDate) {\r\n        // Add date filtering when backend supports it\r\n      }\r\n      if (type === 'active') {\r\n        filters.status = 'open'\r\n      }\r\n      \r\n      const data = await issueService.export(filters)\r\n      // Handle export download\r\n      toast.success('Export initiated')\r\n    } catch (error: any) {\r\n      toast.error(error.response?.data?.error || 'Failed to export issues')\r\n    }\r\n  }\r\n\r\n  const formatDateTime = (dateString: string) => {\r\n    const date = new Date(dateString)\r\n    const month = String(date.getMonth() + 1).padStart(2, '0')\r\n    const day = String(date.getDate()).padStart(2, '0')\r\n    const year = date.getFullYear()\r\n    const hours = String(date.getHours()).padStart(2, '0')\r\n    const minutes = String(date.getMinutes()).padStart(2, '0')\r\n    return `${month}/${day}/${year}, ${hours}:${minutes}`\r\n  }\r\n\r\n  const getCurrentDateTime = () => {\r\n    const now = new Date()\r\n    return formatDateTime(now.toISOString())\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6 w-full\">\r\n      {/* Search Issues Section */}\r\n      <div className=\"bg-green-50 rounded-lg shadow-md p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Search Issues</h3>\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Search by portfolio, issue details, case number, or monitored by...\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              placeholder=\"Search...\"\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Date Filter</label>\r\n              <input\r\n                type=\"date\"\r\n                value={dateFilter}\r\n                onChange={(e) => setDateFilter(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Hour Filter</label>\r\n              <select\r\n                value={hourFilter}\r\n                onChange={(e) => setHourFilter(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"all\">All Hours</option>\r\n                {Array.from({ length: 24 }, (_, i) => (\r\n                  <option key={i} value={i.toString()}>\r\n                    {i}:00\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Issue Filter</label>\r\n              <select\r\n                value={issueFilter}\r\n                onChange={(e) => setIssueFilter(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              >\r\n                <option value=\"active\">Active Issues (Default)</option>\r\n                <option value=\"all\">All Issues</option>\r\n                <option value=\"resolved\">Resolved Issues</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex items-end\">\r\n              <Button\r\n                variant=\"secondary\"\r\n                onClick={handleClearFilters}\r\n                className=\"w-full\"\r\n              >\r\n                Clear Filters\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Export Issues Section */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Export Issues</h3>\r\n        <div className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">FROM DATE</label>\r\n              <input\r\n                type=\"date\"\r\n                value={fromDate}\r\n                onChange={(e) => setFromDate(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">TO DATE</label>\r\n              <input\r\n                type=\"date\"\r\n                value={toDate}\r\n                onChange={(e) => setToDate(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">QUICK RANGE</label>\r\n              <div className=\"flex gap-2\">\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"sm\"\r\n                  onClick={() => handleQuickRange('today')}\r\n                  className=\"flex-1\"\r\n                >\r\n                  Today\r\n                </Button>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"sm\"\r\n                  onClick={() => handleQuickRange('week')}\r\n                  className=\"flex-1\"\r\n                >\r\n                  This Week\r\n                </Button>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"sm\"\r\n                  onClick={() => handleQuickRange('month')}\r\n                  className=\"flex-1\"\r\n                >\r\n                  This Month\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-4\">\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={() => handleExport('all')}\r\n              className=\"flex-1\"\r\n            >\r\n              Export All Issues\r\n            </Button>\r\n            <Button\r\n              variant=\"danger\"\r\n              onClick={() => handleExport('active')}\r\n              className=\"flex-1\"\r\n            >\r\n              Export Active Issues\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Issues Table */}\r\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">PORTFOLIO</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">HOUR</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">ISSUE PRESENT</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">ISSUE DESCRIPTION</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">CASE #</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">MONITORED BY</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">DATE/TIME</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">MISSED ALERTS BY</th>\r\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase\">ACTIONS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {/* New Entry Row */}\r\n              <tr className=\"bg-gray-50\">\r\n                <td className=\"px-4 py-3\">\r\n                  <select\r\n                    value={newIssue.portfolio_id || ''}\r\n                    onChange={(e) => setNewIssue({ ...newIssue, portfolio_id: e.target.value })}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"\">Select Portfolio</option>\r\n                    {portfolios.map((p) => (\r\n                      <option key={p.id} value={p.id}>\r\n                        {p.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max=\"23\"\r\n                    value={newIssue.issue_hour || ''}\r\n                    onChange={(e) => setNewIssue({ ...newIssue, issue_hour: parseInt(e.target.value) || 0 })}\r\n                    className=\"w-20 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <select\r\n                    value={issuePresent}\r\n                    onChange={(e) => setIssuePresent(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"\">Select</option>\r\n                    <option value=\"yes\">Yes</option>\r\n                    <option value=\"no\">No</option>\r\n                  </select>\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newIssue.description || ''}\r\n                    onChange={(e) => setNewIssue({ ...newIssue, description: e.target.value })}\r\n                    placeholder=\"Select issue present first\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={caseNumber}\r\n                    onChange={(e) => setCaseNumber(e.target.value)}\r\n                    placeholder=\"Case #\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    size=\"sm\"\r\n                    className=\"text-xs\"\r\n                    style={{ backgroundColor: '#76ab3f' }}\r\n                  >\r\n                    {user?.email || 'admin'}LOCKED\r\n                  </Button>\r\n                </td>\r\n                <td className=\"px-4 py-3 text-sm text-gray-600\">\r\n                  {getCurrentDateTime()}\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <select\r\n                    value={missedAlertsBy}\r\n                    onChange={(e) => setMissedAlertsBy(e.target.value)}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"\">Select</option>\r\n                    {/* Add personnel options here */}\r\n                  </select>\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    size=\"sm\"\r\n                    onClick={handleLogTicket}\r\n                    disabled={createMutation.isPending}\r\n                    style={{ backgroundColor: '#76ab3f' }}\r\n                  >\r\n                    {createMutation.isPending ? 'Logging...' : 'Log Ticket'}\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n\r\n              {/* Existing Issues Rows */}\r\n              {isLoading ? (\r\n                <tr>\r\n                  <td colSpan={9} className=\"px-4 py-8 text-center text-gray-500\">\r\n                    Loading issues...\r\n                  </td>\r\n                </tr>\r\n              ) : issues.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={9} className=\"px-4 py-8 text-center text-gray-500\">\r\n                    No issues found\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                issues.map((issue) => (\r\n                  <tr key={issue.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-3 text-sm text-gray-900\">\r\n                      {issue.portfolio?.name || 'N/A'}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-900\">{issue.issue_hour}</td>\r\n                    <td className=\"px-4 py-3\">\r\n                      <button\r\n                        className={`px-3 py-1 rounded text-xs font-medium ${\r\n                          issue.status === 'open'\r\n                            ? 'bg-red-100 text-red-800'\r\n                            : 'bg-green-100 text-green-800'\r\n                        }`}\r\n                      >\r\n                        {issue.status === 'open' ? 'Yes' : 'No'}\r\n                      </button>\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-900 max-w-xs\">\r\n                      {issue.description}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">-</td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-900\">\r\n                      {issue.monitored_by?.join(', ') || '-'}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">\r\n                      {formatDateTime(issue.created_at)}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 text-sm text-gray-600\">\r\n                      {issue.missed_by?.join(', ') || '-'}\r\n                    </td>\r\n                    <td className=\"px-4 py-3\">\r\n                      <div className=\"flex gap-2\">\r\n                        <button\r\n                          onClick={() => {\r\n                            // Handle edit\r\n                            toast.info('Edit functionality coming soon')\r\n                          }}\r\n                          className=\"text-blue-600 hover:text-blue-800 text-sm\"\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                        <button\r\n                          onClick={() => {\r\n                            if (window.confirm('Are you sure you want to delete this issue?')) {\r\n                              deleteMutation.mutate(issue.id)\r\n                            }\r\n                          }}\r\n                          className=\"text-red-600 hover:text-red-800 text-sm\"\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default IssueDetailsTable\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}