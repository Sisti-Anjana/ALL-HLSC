{"ast":null,"code":"import api from './api';\nexport const issueService = {\n  getAll: async filters => {\n    const params = new URLSearchParams();\n    if (filters !== null && filters !== void 0 && filters.portfolio_id) params.append('portfolio_id', filters.portfolio_id);\n    if (filters !== null && filters !== void 0 && filters.status) params.append('status', filters.status);\n    if (filters !== null && filters !== void 0 && filters.severity) params.append('severity', filters.severity);\n    if ((filters === null || filters === void 0 ? void 0 : filters.issue_hour) !== undefined) params.append('issue_hour', filters.issue_hour.toString());\n    if (filters !== null && filters !== void 0 && filters.description) params.append('description', filters.description);\n    if (filters !== null && filters !== void 0 && filters.search) params.append('search', filters.search);\n    const response = await api.get(`/issues?${params.toString()}`);\n    return response.data.data || [];\n  },\n  getById: async id => {\n    const response = await api.get(`/issues/${id}`);\n    return response.data.data;\n  },\n  create: async data => {\n    const response = await api.post('/issues', data);\n    return response.data.data;\n  },\n  update: async (id, data) => {\n    const response = await api.put(`/issues/${id}`, data);\n    return response.data.data;\n  },\n  delete: async id => {\n    await api.delete(`/issues/${id}`);\n  },\n  export: async filters => {\n    const response = await api.post('/issues/export', {\n      filters\n    });\n    return response.data.data;\n  }\n};","map":{"version":3,"names":["api","issueService","getAll","filters","params","URLSearchParams","portfolio_id","append","status","severity","issue_hour","undefined","toString","description","search","response","get","data","getById","id","create","post","update","put","delete","export"],"sources":["C:/Users/LibsysAdmin/OneDrive - Libsys IT Services Private Limited/Desktop/ALLLL HLSC/client/src/services/issueService.ts"],"sourcesContent":["import api from './api'\r\nimport { ApiResponse } from '../types/api.types'\r\nimport { Issue, CreateIssueData, UpdateIssueData } from '../types/issue.types'\r\n\r\nexport interface IssueFilters {\r\n  portfolio_id?: string\r\n  status?: string\r\n  severity?: string\r\n  issue_hour?: number\r\n  search?: string\r\n  description?: string // For filtering by description (e.g., '!No issue' to exclude \"No issue\" entries)\r\n}\r\n\r\nexport const issueService = {\r\n  getAll: async (filters?: IssueFilters): Promise<Issue[]> => {\r\n    const params = new URLSearchParams()\r\n    if (filters?.portfolio_id) params.append('portfolio_id', filters.portfolio_id)\r\n    if (filters?.status) params.append('status', filters.status)\r\n    if (filters?.severity) params.append('severity', filters.severity)\r\n    if (filters?.issue_hour !== undefined) params.append('issue_hour', filters.issue_hour.toString())\r\n    if (filters?.description) params.append('description', filters.description)\r\n    if (filters?.search) params.append('search', filters.search)\r\n\r\n    const response = await api.get<ApiResponse<Issue[]>>(`/issues?${params.toString()}`)\r\n    return response.data.data || []\r\n  },\r\n\r\n  getById: async (id: string): Promise<Issue> => {\r\n    const response = await api.get<ApiResponse<Issue>>(`/issues/${id}`)\r\n    return response.data.data!\r\n  },\r\n\r\n  create: async (data: CreateIssueData): Promise<Issue> => {\r\n    const response = await api.post<ApiResponse<Issue>>('/issues', data)\r\n    return response.data.data!\r\n  },\r\n\r\n  update: async (id: string, data: UpdateIssueData): Promise<Issue> => {\r\n    const response = await api.put<ApiResponse<Issue>>(`/issues/${id}`, data)\r\n    return response.data.data!\r\n  },\r\n\r\n  delete: async (id: string): Promise<void> => {\r\n    await api.delete(`/issues/${id}`)\r\n  },\r\n\r\n  export: async (filters?: IssueFilters): Promise<any> => {\r\n    const response = await api.post<ApiResponse<any>>('/issues/export', { filters })\r\n    return response.data.data\r\n  },\r\n}\r\n\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAavB,OAAO,MAAMC,YAAY,GAAG;EAC1BC,MAAM,EAAE,MAAOC,OAAsB,IAAuB;IAC1D,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpC,IAAIF,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEG,YAAY,EAAEF,MAAM,CAACG,MAAM,CAAC,cAAc,EAAEJ,OAAO,CAACG,YAAY,CAAC;IAC9E,IAAIH,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEK,MAAM,EAAEJ,MAAM,CAACG,MAAM,CAAC,QAAQ,EAAEJ,OAAO,CAACK,MAAM,CAAC;IAC5D,IAAIL,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEM,QAAQ,EAAEL,MAAM,CAACG,MAAM,CAAC,UAAU,EAAEJ,OAAO,CAACM,QAAQ,CAAC;IAClE,IAAI,CAAAN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEO,UAAU,MAAKC,SAAS,EAAEP,MAAM,CAACG,MAAM,CAAC,YAAY,EAAEJ,OAAO,CAACO,UAAU,CAACE,QAAQ,CAAC,CAAC,CAAC;IACjG,IAAIT,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEU,WAAW,EAAET,MAAM,CAACG,MAAM,CAAC,aAAa,EAAEJ,OAAO,CAACU,WAAW,CAAC;IAC3E,IAAIV,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEW,MAAM,EAAEV,MAAM,CAACG,MAAM,CAAC,QAAQ,EAAEJ,OAAO,CAACW,MAAM,CAAC;IAE5D,MAAMC,QAAQ,GAAG,MAAMf,GAAG,CAACgB,GAAG,CAAuB,WAAWZ,MAAM,CAACQ,QAAQ,CAAC,CAAC,EAAE,CAAC;IACpF,OAAOG,QAAQ,CAACE,IAAI,CAACA,IAAI,IAAI,EAAE;EACjC,CAAC;EAEDC,OAAO,EAAE,MAAOC,EAAU,IAAqB;IAC7C,MAAMJ,QAAQ,GAAG,MAAMf,GAAG,CAACgB,GAAG,CAAqB,WAAWG,EAAE,EAAE,CAAC;IACnE,OAAOJ,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B,CAAC;EAEDG,MAAM,EAAE,MAAOH,IAAqB,IAAqB;IACvD,MAAMF,QAAQ,GAAG,MAAMf,GAAG,CAACqB,IAAI,CAAqB,SAAS,EAAEJ,IAAI,CAAC;IACpE,OAAOF,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B,CAAC;EAEDK,MAAM,EAAE,MAAAA,CAAOH,EAAU,EAAEF,IAAqB,KAAqB;IACnE,MAAMF,QAAQ,GAAG,MAAMf,GAAG,CAACuB,GAAG,CAAqB,WAAWJ,EAAE,EAAE,EAAEF,IAAI,CAAC;IACzE,OAAOF,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B,CAAC;EAEDO,MAAM,EAAE,MAAOL,EAAU,IAAoB;IAC3C,MAAMnB,GAAG,CAACwB,MAAM,CAAC,WAAWL,EAAE,EAAE,CAAC;EACnC,CAAC;EAEDM,MAAM,EAAE,MAAOtB,OAAsB,IAAmB;IACtD,MAAMY,QAAQ,GAAG,MAAMf,GAAG,CAACqB,IAAI,CAAmB,gBAAgB,EAAE;MAAElB;IAAQ,CAAC,CAAC;IAChF,OAAOY,QAAQ,CAACE,IAAI,CAACA,IAAI;EAC3B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}