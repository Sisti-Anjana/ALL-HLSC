{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LibsysAdmin\\\\OneDrive - Libsys IT Services Private Limited\\\\Desktop\\\\ALLLL HLSC\\\\client\\\\src\\\\components\\\\dashboard\\\\QuickPortfolioReference.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport Button from '../common/Button';\nimport { useNavigate } from 'react-router-dom';\nimport { analyticsService } from '../../services/analyticsService';\nimport { adminService } from '../../services/adminService';\nimport { issueService } from '../../services/issueService';\nimport PortfolioDetailModal from '../portfolio/PortfolioDetailModal';\nimport { useAuth } from '../../context/AuthContext';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QuickPortfolioReference = ({\n  onPortfolioSelected\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [lastUpdated, setLastUpdated] = useState(new Date());\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedPortfolioId, setSelectedPortfolioId] = useState(null);\n  const [hoveredPortfolio, setHoveredPortfolio] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState(null);\n\n  // Use React Query to fetch portfolio activity\n  const {\n    data: portfolios = [],\n    isLoading: loading,\n    isRefetching: isRefreshing,\n    error,\n    refetch\n  } = useQuery({\n    queryKey: ['portfolio-activity'],\n    queryFn: async () => {\n      console.log('Fetching portfolio activity...');\n      const data = await analyticsService.getPortfolioActivity();\n      console.log('Portfolio activity fetched:', data);\n      return data;\n    },\n    refetchInterval: 5000,\n    // Auto-refresh every 5 seconds (reduced from 1s to prevent page freeze)\n    staleTime: 3000 // Consider data fresh for 3 seconds to reduce unnecessary refetches\n  });\n\n  // Fetch locked portfolios - needs more frequent updates for real-time lock status\n  const {\n    data: locks = [],\n    error: locksError,\n    isLoading: locksLoading\n  } = useQuery({\n    queryKey: ['portfolio-locks'],\n    queryFn: async () => {\n      console.log('üîÑ QuickPortfolioReference - Fetching locks...');\n      const result = await adminService.getLocks();\n      console.log('‚úÖ QuickPortfolioReference - Locks fetched:', result.length, result);\n      return result;\n    },\n    refetchInterval: 3000,\n    // Refresh every 3 seconds (reduced from 1s to prevent page freeze)\n    retry: 2,\n    // Retry up to 2 times on failure\n    retryDelay: 1000,\n    // Wait 1 second between retries\n    staleTime: 0,\n    // Always consider data stale to ensure fresh locks\n    refetchOnMount: true,\n    // Always refetch when component mounts\n    refetchOnWindowFocus: true // Refetch when window regains focus\n  });\n\n  // Log when locks change\n  useEffect(() => {\n    console.log('üîí QuickPortfolioReference - Locks updated:', {\n      locksCount: locks.length,\n      locks: locks.map(l => ({\n        portfolio_id: l.portfolio_id,\n        hour: l.issue_hour,\n        monitored_by: l.monitored_by\n      })),\n      locksLoading,\n      locksError: locksError === null || locksError === void 0 ? void 0 : locksError.message\n    });\n  }, [locks, locksLoading, locksError]);\n\n  // Fetch all issues to get recent workers\n  const {\n    data: allIssues = []\n  } = useQuery({\n    queryKey: ['issues'],\n    queryFn: () => issueService.getAll({}),\n    refetchInterval: 5000,\n    // Auto-refresh every 5 seconds (reduced from 1s to prevent page freeze)\n    staleTime: 3000 // Consider data fresh for 3 seconds\n  });\n\n  // Fetch users to map emails to display names\n  const {\n    data: users = []\n  } = useQuery({\n    queryKey: ['admin-users'],\n    queryFn: adminService.getUsers\n  });\n\n  // Log errors but don't block the UI\n  useEffect(() => {\n    if (locksError) {\n      console.error('Error fetching locks:', locksError);\n      // Don't show toast for locks error as it's not critical for the UI\n    }\n  }, [locksError]);\n\n  // Create a set of locked portfolio IDs\n  const lockedPortfolioIds = useMemo(() => {\n    // Normalize IDs to strings for consistent comparison\n    const ids = new Set(locks.map(lock => String(lock.portfolio_id || '').trim()).filter(id => id !== ''));\n    console.log('üîí QuickPortfolioReference - Locked portfolio IDs:', {\n      locksCount: locks.length,\n      lockedIds: Array.from(ids),\n      locks: locks.map(l => ({\n        portfolio_id: l.portfolio_id,\n        portfolio_id_string: String(l.portfolio_id),\n        portfolio_id_type: typeof l.portfolio_id,\n        hour: l.issue_hour,\n        monitored_by: l.monitored_by\n      }))\n    });\n    return ids;\n  }, [locks]);\n\n  // Update lastUpdated when data changes\n  useEffect(() => {\n    if (portfolios && portfolios.length > 0) {\n      setLastUpdated(new Date());\n      console.log('Portfolios loaded:', portfolios.length, portfolios);\n    } else if (!loading && portfolios.length === 0) {\n      console.log('No portfolios found');\n    }\n  }, [portfolios, loading]);\n\n  // Handle errors\n  useEffect(() => {\n    if (error) {\n      var _response, _response$data;\n      console.error('Failed to fetch portfolio activity:', error);\n      const errorMessage = error instanceof Error ? error.message : (error === null || error === void 0 ? void 0 : (_response = error.response) === null || _response === void 0 ? void 0 : (_response$data = _response.data) === null || _response$data === void 0 ? void 0 : _response$data.error) || 'Failed to load portfolio activity';\n      toast.error(errorMessage);\n    }\n  }, [error]);\n  const getStatusColor = status => {\n    switch (status) {\n      case 'updated':\n        return 'bg-green-100 border-green-300';\n      case '1h':\n        return 'bg-blue-100 border-blue-300';\n      case '2h':\n        return 'bg-yellow-100 border-yellow-400';\n      case '3h':\n        return 'bg-orange-100 border-orange-400';\n      case 'no-activity':\n        return 'bg-red-100 border-red-300';\n      default:\n        return 'bg-red-100 border-red-300';\n    }\n  };\n  const getStatusLabel = status => {\n    switch (status) {\n      case 'updated':\n        return 'Updated (<1h)';\n      case '1h':\n        return '1h Inactive';\n      case '2h':\n        return '2h Inactive';\n      case '3h':\n        return '3h Inactive';\n      case 'no-activity':\n        return 'No Activity (4h+)';\n      default:\n        return 'No Activity (4h+)';\n    }\n  };\n  const formatTime = date => {\n    if (!date) return 'N/A';\n    const dateObj = date instanceof Date ? date : new Date(date);\n    if (isNaN(dateObj.getTime())) return 'Invalid Date';\n    return dateObj.toLocaleTimeString('en-US', {\n      hour12: false,\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    });\n  };\n  const filteredPortfolios = (portfolios || []).filter(p => p.name.toLowerCase().includes(searchQuery.toLowerCase()) || (p.subtitle || '').toLowerCase().includes(searchQuery.toLowerCase()));\n\n  // Get the last person who logged issues for a portfolio\n  const getLastWorker = portfolioId => {\n    // Get issues for this portfolio, sorted by most recent\n    const portfolioIssues = allIssues.filter(issue => issue.portfolio_id === portfolioId).sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n\n    // Get the most recent issue\n    if (portfolioIssues.length === 0) return null;\n    const mostRecentIssue = portfolioIssues[0];\n    if (!mostRecentIssue.monitored_by || !Array.isArray(mostRecentIssue.monitored_by) || mostRecentIssue.monitored_by.length === 0) {\n      return null;\n    }\n\n    // Get the first monitored_by email (most recent issue)\n    const email = mostRecentIssue.monitored_by[0];\n    const user = users.find(u => u.email === email);\n    const displayName = (user === null || user === void 0 ? void 0 : user.full_name) || email.split('@')[0] || 'Unknown';\n    return {\n      email,\n      displayName,\n      lastWorked: new Date(mostRecentIssue.created_at)\n    };\n  };\n  if (loading && portfolios.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600\",\n          children: \"Loading portfolios...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-md p-6 mb-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl sm:text-2xl font-bold text-gray-900 tracking-tight\",\n          children: \"Quick Portfolio Reference\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs sm:text-sm text-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden sm:inline\",\n            children: \"Last updated (EST): \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: formatTime(lastUpdated)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden lg:inline\",\n            children: \" (Auto-refreshes every 15s)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3 sm:gap-6 mb-4 pb-4 border-b border-gray-200 flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs sm:text-sm font-medium text-gray-700\",\n          children: \"Legend:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), ['updated', '1h', '2h', '3h', 'no-activity'].map(status => {\n          const colors = getStatusColor(status).split(' ');\n          const bgColor = colors[0];\n          const borderColor = colors[1] || colors[0];\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1.5 sm:gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-3 h-3 sm:w-4 sm:h-4 rounded border-2 ${bgColor} ${borderColor}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-600\",\n              children: getStatusLabel(status)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this)]\n          }, status, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search...\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            className: \"w-full px-3 py-1.5 pl-9 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm\",\n            children: \"\\uD83D\\uDD0D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/issues?action=log'),\n          className: \"w-full sm:w-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden sm:inline\",\n            children: \"+ Log New Issue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sm:hidden\",\n            children: \"+ Log Issue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-2 sm:gap-3\",\n      children: filteredPortfolios.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full text-center py-12\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-lg\",\n          children: \"No portfolios found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this) : filteredPortfolios.map(portfolio => {\n        // Normalize portfolio ID to string for comparison\n        const portfolioIdString = String(portfolio.id || '').trim();\n        const isLocked = lockedPortfolioIds.has(portfolioIdString);\n        const statusColors = getStatusColor(portfolio.status);\n        const colors = statusColors.split(' ');\n        const bgColor = colors[0];\n        const borderColor = colors[1] || colors[0];\n\n        // Enhanced debug logging for ALL portfolios to see why lock isn't matching\n        if (portfolio.name === 'BESS & AES Trimark' || portfolio.name.includes('BESS')) {\n          console.log('üîç QuickPortfolioReference - BESS Portfolio Debug:', {\n            portfolioId: portfolio.id,\n            portfolioName: portfolio.name,\n            isLocked,\n            lockedPortfolioIds: Array.from(lockedPortfolioIds),\n            allLocks: locks.map(l => ({\n              portfolio_id: l.portfolio_id,\n              portfolio_id_type: typeof l.portfolio_id,\n              portfolio_id_value: String(l.portfolio_id),\n              portfolio_id_matches: l.portfolio_id === portfolio.id,\n              portfolio_id_string_match: String(l.portfolio_id) === String(portfolio.id),\n              hour: l.issue_hour,\n              monitored_by: l.monitored_by\n            })),\n            portfolio_id_type: typeof portfolio.id,\n            portfolio_id_value: String(portfolio.id)\n          });\n        }\n\n        // Debug logging for locked portfolios\n        if (isLocked) {\n          console.log('üîí QuickPortfolioReference - Portfolio is locked:', {\n            portfolioId: portfolio.id,\n            portfolioName: portfolio.name,\n            isLocked,\n            lockedPortfolioIds: Array.from(lockedPortfolioIds)\n          });\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${bgColor} rounded-lg p-2.5 cursor-pointer transition-all duration-300 ease-in-out relative shadow-md ${isLocked ? 'border-[6px] border-purple-600' : `border-2 ${borderColor}`} hover:shadow-2xl hover:scale-110 hover:-translate-y-1 hover:z-10`,\n          style: {\n            transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)'\n          },\n          onClick: () => {\n            setSelectedPortfolioId(portfolio.id);\n            // Don't open sidebar directly - open modal first\n          },\n          onMouseEnter: e => {\n            const rect = e.currentTarget.getBoundingClientRect();\n            const viewportHeight = window.innerHeight;\n            const spaceAbove = rect.top;\n            const spaceBelow = viewportHeight - rect.bottom;\n\n            // Show tooltip above if there's more space above, otherwise below\n            const showAbove = spaceAbove > spaceBelow;\n            setHoveredPortfolio(portfolio.id);\n            setTooltipPosition({\n              top: showAbove ? rect.top - 10 : rect.bottom + 10,\n              left: rect.left + rect.width / 2,\n              showAbove: showAbove\n            });\n          },\n          onMouseLeave: () => {\n            setHoveredPortfolio(null);\n            setTooltipPosition(null);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-2 right-2 bg-blue-500 text-white px-2 py-1 rounded-md flex items-center gap-1 shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs font-bold\",\n              children: portfolio.yValue.startsWith('H') ? 'H' : 'Y'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-bold\",\n              children: portfolio.yValue.replace(/^[YH]/, '')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pr-16 pt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-gray-900 text-base leading-tight\",\n              children: [portfolio.name, portfolio.siteRange && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 font-normal text-sm\",\n                children: [\" (\", portfolio.siteRange, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }, this), portfolio.subtitle && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-700 font-medium mt-1\",\n            children: portfolio.subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 19\n          }, this)]\n        }, portfolio.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), hoveredPortfolio && tooltipPosition && (() => {\n      const portfolio = portfolios.find(p => p.id === hoveredPortfolio);\n      if (!portfolio) return null;\n      const currentHour = new Date().getHours();\n      // Only find lock for CURRENT HOUR - don't show locks from other hours\n      const lockInfo = locks.find(l => l.portfolio_id === portfolio.id && l.issue_hour === currentHour);\n      // Only show as locked if there's actually a lock for the current hour\n      const isLockedTooltip = !!lockInfo;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed z-[9999] bg-gray-900 text-white text-xs rounded-lg shadow-2xl p-4 pointer-events-none border border-gray-700\",\n        style: {\n          top: `${tooltipPosition.top}px`,\n          left: `${tooltipPosition.left}px`,\n          transform: tooltipPosition.showAbove ? 'translate(-50%, -100%) translateY(-8px)' : 'translate(-50%, 0) translateY(8px)',\n          transition: 'opacity 0.2s ease-in-out, transform 0.2s ease-in-out',\n          opacity: hoveredPortfolio ? 1 : 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-sm mb-2 pb-2 border-b border-gray-700\",\n          children: [portfolio.name, portfolio.siteRange && ` (${portfolio.siteRange})`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this), \" \", getStatusLabel(portfolio.status)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-400\",\n              children: \"Y/H Value:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this), \" \", portfolio.yValue]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), (() => {\n            if (isLockedTooltip && lockInfo && lockInfo.monitored_by) {\n              var _lockInfo$monitored_b2;\n              // Portfolio is locked for current hour - show current lock owner\n              // Use case-insensitive email matching\n              const lockUser = users.find(u => {\n                var _u$email, _lockInfo$monitored_b;\n                return ((_u$email = u.email) === null || _u$email === void 0 ? void 0 : _u$email.toLowerCase()) === ((_lockInfo$monitored_b = lockInfo.monitored_by) === null || _lockInfo$monitored_b === void 0 ? void 0 : _lockInfo$monitored_b.toLowerCase());\n              });\n              const lockOwnerName = (lockUser === null || lockUser === void 0 ? void 0 : lockUser.full_name) || ((_lockInfo$monitored_b2 = lockInfo.monitored_by) === null || _lockInfo$monitored_b2 === void 0 ? void 0 : _lockInfo$monitored_b2.split('@')[0]) || 'Unknown';\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-800 rounded px-2 py-1.5 border border-gray-700\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-200 text-xs\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-400\",\n                    children: \"Logged by:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 25\n                  }, this), \" \", lockOwnerName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 21\n              }, this);\n            } else {\n              // Portfolio is not locked for current hour - show last person who logged issues\n              const lastWorker = getLastWorker(portfolio.id);\n              if (lastWorker) {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-800 rounded px-2 py-1.5 border border-gray-700\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-gray-200 text-xs\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-400\",\n                      children: \"Last logged by:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 27\n                    }, this), \" \", lastWorker.displayName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 23\n                }, this);\n              }\n            }\n            return null;\n          })(), portfolio.lastUpdated && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800 rounded px-2 py-1.5 border border-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-200 text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"Last Activity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 21\n              }, this), \" \", formatTime(portfolio.lastUpdated)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 17\n          }, this), isLockedTooltip && lockInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-purple-900/30 rounded px-2 py-1.5 border border-purple-500/30\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-purple-300 text-xs\",\n              children: [\"\\uD83D\\uDD12 Locked - Hour \", lockInfo.issue_hour, \":00\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-900/30 rounded px-2 py-1.5 border border-blue-500/30\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-blue-400 text-xs font-semibold text-center\",\n              children: \"Click for options\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `absolute left-1/2 transform -translate-x-1/2 border-4 border-transparent ${tooltipPosition.showAbove ? 'top-full -mt-1 border-t-gray-900' : 'bottom-full mb-1 border-b-gray-900'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }, this);\n    })(), selectedPortfolioId && /*#__PURE__*/_jsxDEV(PortfolioDetailModal, {\n      isOpen: !!selectedPortfolioId,\n      onClose: () => setSelectedPortfolioId(null),\n      portfolioId: selectedPortfolioId,\n      onLogIssue: (portfolioId, hour) => {\n        setSelectedPortfolioId(null); // Close modal\n        if (onPortfolioSelected) {\n          onPortfolioSelected(portfolioId, hour);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n};\n_s(QuickPortfolioReference, \"Z62/zTs/MulTEqYzazJ9h8GWkyU=\", false, function () {\n  return [useNavigate, useAuth, useQuery, useQuery, useQuery, useQuery];\n});\n_c = QuickPortfolioReference;\nexport default QuickPortfolioReference;\nvar _c;\n$RefreshReg$(_c, \"QuickPortfolioReference\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useQuery","Button","useNavigate","analyticsService","adminService","issueService","PortfolioDetailModal","useAuth","toast","jsxDEV","_jsxDEV","QuickPortfolioReference","onPortfolioSelected","_s","navigate","user","lastUpdated","setLastUpdated","Date","searchQuery","setSearchQuery","selectedPortfolioId","setSelectedPortfolioId","hoveredPortfolio","setHoveredPortfolio","tooltipPosition","setTooltipPosition","data","portfolios","isLoading","loading","isRefetching","isRefreshing","error","refetch","queryKey","queryFn","console","log","getPortfolioActivity","refetchInterval","staleTime","locks","locksError","locksLoading","result","getLocks","length","retry","retryDelay","refetchOnMount","refetchOnWindowFocus","locksCount","map","l","portfolio_id","hour","issue_hour","monitored_by","message","allIssues","getAll","users","getUsers","lockedPortfolioIds","ids","Set","lock","String","trim","filter","id","lockedIds","Array","from","portfolio_id_string","portfolio_id_type","_response","_response$data","errorMessage","Error","response","getStatusColor","status","getStatusLabel","formatTime","date","dateObj","isNaN","getTime","toLocaleTimeString","hour12","minute","second","filteredPortfolios","p","name","toLowerCase","includes","subtitle","getLastWorker","portfolioId","portfolioIssues","issue","sort","a","b","created_at","mostRecentIssue","isArray","email","find","u","displayName","full_name","split","lastWorked","className","children","fileName","_jsxFileName","lineNumber","columnNumber","colors","bgColor","borderColor","type","placeholder","value","onChange","e","target","onClick","portfolio","portfolioIdString","isLocked","has","statusColors","portfolioName","allLocks","portfolio_id_value","portfolio_id_matches","portfolio_id_string_match","style","transition","onMouseEnter","rect","currentTarget","getBoundingClientRect","viewportHeight","window","innerHeight","spaceAbove","top","spaceBelow","bottom","showAbove","left","width","onMouseLeave","yValue","startsWith","replace","siteRange","currentHour","getHours","lockInfo","isLockedTooltip","transform","opacity","_lockInfo$monitored_b2","lockUser","_u$email","_lockInfo$monitored_b","lockOwnerName","lastWorker","isOpen","onClose","onLogIssue","_c","$RefreshReg$"],"sources":["C:/Users/LibsysAdmin/OneDrive - Libsys IT Services Private Limited/Desktop/ALLLL HLSC/client/src/components/dashboard/QuickPortfolioReference.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react'\nimport { useQuery, useQueryClient } from '@tanstack/react-query'\nimport Button from '../common/Button'\nimport { useNavigate } from 'react-router-dom'\nimport { analyticsService } from '../../services/analyticsService'\nimport { adminService, PortfolioLock } from '../../services/adminService'\nimport { issueService } from '../../services/issueService'\nimport { PortfolioActivity } from '../../types/analytics.types'\nimport { Issue } from '../../types/issue.types'\nimport { User } from '../../types/user.types'\nimport PortfolioDetailModal from '../portfolio/PortfolioDetailModal'\nimport { useAuth } from '../../context/AuthContext'\nimport toast from 'react-hot-toast'\n\ninterface QuickPortfolioReferenceProps {\n  onPortfolioSelected?: (portfolioId: string, hour: number) => void\n}\n\nconst QuickPortfolioReference: React.FC<QuickPortfolioReferenceProps> = ({\n  onPortfolioSelected,\n}) => {\n  const navigate = useNavigate()\n  const { user } = useAuth()\n  const [lastUpdated, setLastUpdated] = useState(new Date())\n  const [searchQuery, setSearchQuery] = useState('')\n  const [selectedPortfolioId, setSelectedPortfolioId] = useState<string | null>(null)\n  const [hoveredPortfolio, setHoveredPortfolio] = useState<string | null>(null)\n  const [tooltipPosition, setTooltipPosition] = useState<{\n    top: number\n    left: number\n    showAbove: boolean\n  } | null>(null)\n\n  // Use React Query to fetch portfolio activity\n  const { data: portfolios = [], isLoading: loading, isRefetching: isRefreshing, error, refetch } = useQuery<PortfolioActivity[]>({\n    queryKey: ['portfolio-activity'],\n    queryFn: async () => {\n      console.log('Fetching portfolio activity...')\n      const data = await analyticsService.getPortfolioActivity()\n      console.log('Portfolio activity fetched:', data)\n      return data\n    },\n    refetchInterval: 5000, // Auto-refresh every 5 seconds (reduced from 1s to prevent page freeze)\n    staleTime: 3000, // Consider data fresh for 3 seconds to reduce unnecessary refetches\n  })\n\n  // Fetch locked portfolios - needs more frequent updates for real-time lock status\n  const { data: locks = [], error: locksError, isLoading: locksLoading } = useQuery<PortfolioLock[]>({\n    queryKey: ['portfolio-locks'],\n    queryFn: async () => {\n      console.log('üîÑ QuickPortfolioReference - Fetching locks...')\n      const result = await adminService.getLocks()\n      console.log('‚úÖ QuickPortfolioReference - Locks fetched:', result.length, result)\n      return result\n    },\n    refetchInterval: 3000, // Refresh every 3 seconds (reduced from 1s to prevent page freeze)\n    retry: 2, // Retry up to 2 times on failure\n    retryDelay: 1000, // Wait 1 second between retries\n    staleTime: 0, // Always consider data stale to ensure fresh locks\n    refetchOnMount: true, // Always refetch when component mounts\n    refetchOnWindowFocus: true, // Refetch when window regains focus\n  })\n  \n  // Log when locks change\n  useEffect(() => {\n    console.log('üîí QuickPortfolioReference - Locks updated:', {\n      locksCount: locks.length,\n      locks: locks.map(l => ({\n        portfolio_id: l.portfolio_id,\n        hour: l.issue_hour,\n        monitored_by: l.monitored_by,\n      })),\n      locksLoading,\n      locksError: locksError?.message,\n    })\n  }, [locks, locksLoading, locksError])\n\n  // Fetch all issues to get recent workers\n  const { data: allIssues = [] } = useQuery<Issue[]>({\n    queryKey: ['issues'],\n    queryFn: () => issueService.getAll({}),\n    refetchInterval: 5000, // Auto-refresh every 5 seconds (reduced from 1s to prevent page freeze)\n    staleTime: 3000, // Consider data fresh for 3 seconds\n  })\n\n  // Fetch users to map emails to display names\n  const { data: users = [] } = useQuery<User[]>({\n    queryKey: ['admin-users'],\n    queryFn: adminService.getUsers,\n  })\n\n  // Log errors but don't block the UI\n  useEffect(() => {\n    if (locksError) {\n      console.error('Error fetching locks:', locksError)\n      // Don't show toast for locks error as it's not critical for the UI\n    }\n  }, [locksError])\n\n  // Create a set of locked portfolio IDs\n  const lockedPortfolioIds = useMemo(() => {\n    // Normalize IDs to strings for consistent comparison\n    const ids = new Set(locks.map(lock => String(lock.portfolio_id || '').trim()).filter(id => id !== ''))\n    console.log('üîí QuickPortfolioReference - Locked portfolio IDs:', {\n      locksCount: locks.length,\n      lockedIds: Array.from(ids),\n      locks: locks.map(l => ({ \n        portfolio_id: l.portfolio_id, \n        portfolio_id_string: String(l.portfolio_id),\n        portfolio_id_type: typeof l.portfolio_id,\n        hour: l.issue_hour, \n        monitored_by: l.monitored_by \n      })),\n    })\n    return ids\n  }, [locks])\n\n  // Update lastUpdated when data changes\n  useEffect(() => {\n    if (portfolios && portfolios.length > 0) {\n      setLastUpdated(new Date())\n      console.log('Portfolios loaded:', portfolios.length, portfolios)\n    } else if (!loading && portfolios.length === 0) {\n      console.log('No portfolios found')\n    }\n  }, [portfolios, loading])\n\n  // Handle errors\n  useEffect(() => {\n    if (error) {\n      console.error('Failed to fetch portfolio activity:', error)\n      const errorMessage = error instanceof Error \n        ? error.message \n        : (error as any)?.response?.data?.error || 'Failed to load portfolio activity'\n      toast.error(errorMessage)\n    }\n  }, [error])\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'updated':\n        return 'bg-green-100 border-green-300'\n      case '1h':\n        return 'bg-blue-100 border-blue-300'\n      case '2h':\n        return 'bg-yellow-100 border-yellow-400'\n      case '3h':\n        return 'bg-orange-100 border-orange-400'\n      case 'no-activity':\n        return 'bg-red-100 border-red-300'\n      default:\n        return 'bg-red-100 border-red-300'\n    }\n  }\n\n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case 'updated':\n        return 'Updated (<1h)'\n      case '1h':\n        return '1h Inactive'\n      case '2h':\n        return '2h Inactive'\n      case '3h':\n        return '3h Inactive'\n      case 'no-activity':\n        return 'No Activity (4h+)'\n      default:\n        return 'No Activity (4h+)'\n    }\n  }\n\n  const formatTime = (date: Date | string | null) => {\n    if (!date) return 'N/A'\n    const dateObj = date instanceof Date ? date : new Date(date)\n    if (isNaN(dateObj.getTime())) return 'Invalid Date'\n    return dateObj.toLocaleTimeString('en-US', { \n      hour12: false, \n      hour: '2-digit', \n      minute: '2-digit', \n      second: '2-digit' \n    })\n  }\n\n  const filteredPortfolios: PortfolioActivity[] = (portfolios || []).filter((p: PortfolioActivity) =>\n    p.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    (p.subtitle || '').toLowerCase().includes(searchQuery.toLowerCase())\n  )\n\n  // Get the last person who logged issues for a portfolio\n  const getLastWorker = (portfolioId: string) => {\n    // Get issues for this portfolio, sorted by most recent\n    const portfolioIssues = allIssues\n      .filter(issue => issue.portfolio_id === portfolioId)\n      .sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\n\n    // Get the most recent issue\n    if (portfolioIssues.length === 0) return null\n\n    const mostRecentIssue = portfolioIssues[0]\n    if (!mostRecentIssue.monitored_by || !Array.isArray(mostRecentIssue.monitored_by) || mostRecentIssue.monitored_by.length === 0) {\n      return null\n    }\n\n    // Get the first monitored_by email (most recent issue)\n    const email = mostRecentIssue.monitored_by[0]\n    const user = users.find(u => u.email === email)\n    const displayName = user?.full_name || email.split('@')[0] || 'Unknown'\n    \n    return {\n      email,\n      displayName,\n      lastWorked: new Date(mostRecentIssue.created_at)\n    }\n  }\n\n  if (loading && portfolios.length === 0) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <div className=\"text-center py-8\">\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <p className=\"mt-2 text-gray-600\">Loading portfolios...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n      {/* Header Section */}\n      <div className=\"mb-4\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2\">\n          <h2 className=\"text-xl sm:text-2xl font-bold text-gray-900 tracking-tight\">Quick Portfolio Reference</h2>\n          <div className=\"text-xs sm:text-sm text-gray-700\">\n            <span className=\"hidden sm:inline\">Last updated (EST): </span>\n            <span className=\"font-semibold\">{formatTime(lastUpdated)}</span>\n            <span className=\"hidden lg:inline\"> (Auto-refreshes every 15s)</span>\n          </div>\n        </div>\n\n        {/* Legend */}\n        <div className=\"flex items-center gap-3 sm:gap-6 mb-4 pb-4 border-b border-gray-200 flex-wrap\">\n          <span className=\"text-xs sm:text-sm font-medium text-gray-700\">Legend:</span>\n          {['updated', '1h', '2h', '3h', 'no-activity'].map((status) => {\n            const colors = getStatusColor(status).split(' ')\n            const bgColor = colors[0]\n            const borderColor = colors[1] || colors[0]\n            return (\n              <div key={status} className=\"flex items-center gap-1.5 sm:gap-2\">\n                <div className={`w-3 h-3 sm:w-4 sm:h-4 rounded border-2 ${bgColor} ${borderColor}`}></div>\n                <span className=\"text-xs text-gray-600\">{getStatusLabel(status)}</span>\n              </div>\n            )\n          })}\n        </div>\n\n        {/* Search and Log Issue */}\n        <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 mb-4\">\n          <div className=\"flex-1 relative\">\n            <input\n              type=\"text\"\n              placeholder=\"Search...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full px-3 py-1.5 pl-9 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <span className=\"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm\">üîç</span>\n          </div>\n          <Button \n            onClick={() => navigate('/issues?action=log')}\n            className=\"w-full sm:w-auto\"\n          >\n            <span className=\"hidden sm:inline\">+ Log New Issue</span>\n            <span className=\"sm:hidden\">+ Log Issue</span>\n          </Button>\n        </div>\n      </div>\n\n      {/* Portfolio Grid */}\n      <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-2 sm:gap-3\">\n        {filteredPortfolios.length === 0 ? (\n          <div className=\"col-span-full text-center py-12\">\n            <p className=\"text-gray-500 text-lg\">No portfolios found</p>\n          </div>\n        ) : (\n          filteredPortfolios.map((portfolio) => {\n            // Normalize portfolio ID to string for comparison\n            const portfolioIdString = String(portfolio.id || '').trim()\n            const isLocked = lockedPortfolioIds.has(portfolioIdString)\n            const statusColors = getStatusColor(portfolio.status)\n            const colors = statusColors.split(' ')\n            const bgColor = colors[0]\n            const borderColor = colors[1] || colors[0]\n            \n            // Enhanced debug logging for ALL portfolios to see why lock isn't matching\n            if (portfolio.name === 'BESS & AES Trimark' || portfolio.name.includes('BESS')) {\n              console.log('üîç QuickPortfolioReference - BESS Portfolio Debug:', {\n                portfolioId: portfolio.id,\n                portfolioName: portfolio.name,\n                isLocked,\n                lockedPortfolioIds: Array.from(lockedPortfolioIds),\n                allLocks: locks.map(l => ({\n                  portfolio_id: l.portfolio_id,\n                  portfolio_id_type: typeof l.portfolio_id,\n                  portfolio_id_value: String(l.portfolio_id),\n                  portfolio_id_matches: l.portfolio_id === portfolio.id,\n                  portfolio_id_string_match: String(l.portfolio_id) === String(portfolio.id),\n                  hour: l.issue_hour,\n                  monitored_by: l.monitored_by,\n                })),\n                portfolio_id_type: typeof portfolio.id,\n                portfolio_id_value: String(portfolio.id),\n              })\n            }\n            \n            // Debug logging for locked portfolios\n            if (isLocked) {\n              console.log('üîí QuickPortfolioReference - Portfolio is locked:', {\n                portfolioId: portfolio.id,\n                portfolioName: portfolio.name,\n                isLocked,\n                lockedPortfolioIds: Array.from(lockedPortfolioIds),\n              })\n            }\n            \n            return (\n              <div\n                key={portfolio.id}\n                className={`${bgColor} rounded-lg p-2.5 cursor-pointer transition-all duration-300 ease-in-out relative shadow-md ${\n                  isLocked \n                    ? 'border-[6px] border-purple-600' \n                    : `border-2 ${borderColor}`\n                } hover:shadow-2xl hover:scale-110 hover:-translate-y-1 hover:z-10`}\n                style={{\n                  transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n                }}\n                onClick={() => {\n                  setSelectedPortfolioId(portfolio.id)\n                  // Don't open sidebar directly - open modal first\n                }}\n                onMouseEnter={(e) => {\n                  const rect = e.currentTarget.getBoundingClientRect()\n                  const viewportHeight = window.innerHeight\n                  const spaceAbove = rect.top\n                  const spaceBelow = viewportHeight - rect.bottom\n                  \n                  // Show tooltip above if there's more space above, otherwise below\n                  const showAbove = spaceAbove > spaceBelow\n                  \n                  setHoveredPortfolio(portfolio.id)\n                  setTooltipPosition({\n                    top: showAbove ? rect.top - 10 : rect.bottom + 10,\n                    left: rect.left + rect.width / 2,\n                    showAbove: showAbove\n                  })\n                }}\n                onMouseLeave={() => {\n                  setHoveredPortfolio(null)\n                  setTooltipPosition(null)\n                }}\n              >\n                {/* Y/H Badge - Top Right */}\n                <div className=\"absolute top-2 right-2 bg-blue-500 text-white px-2 py-1 rounded-md flex items-center gap-1 shadow-sm\">\n                  <span className=\"text-xs font-bold\">\n                    {portfolio.yValue.startsWith('H') ? 'H' : 'Y'}\n                  </span>\n                  <span className=\"text-sm font-bold\">\n                    {portfolio.yValue.replace(/^[YH]/, '')}\n                  </span>\n                </div>\n\n                {/* Portfolio Name with Site Range */}\n                <div className=\"pr-16 pt-1\">\n                  <h3 className=\"font-bold text-gray-900 text-base leading-tight\">\n                    {portfolio.name}\n                    {portfolio.siteRange && (\n                      <span className=\"text-gray-600 font-normal text-sm\"> ({portfolio.siteRange})</span>\n                    )}\n                  </h3>\n                </div>\n                \n                {/* Subtitle */}\n                {portfolio.subtitle && (\n                  <p className=\"text-xs text-gray-700 font-medium mt-1\">{portfolio.subtitle}</p>\n                )}\n              </div>\n            )\n          })\n        )}\n      </div>\n\n      {/* Hover Tooltip */}\n      {hoveredPortfolio && tooltipPosition && (() => {\n        const portfolio = portfolios.find(p => p.id === hoveredPortfolio)\n        if (!portfolio) return null\n        const currentHour = new Date().getHours()\n        // Only find lock for CURRENT HOUR - don't show locks from other hours\n        const lockInfo = locks.find(l => \n          l.portfolio_id === portfolio.id && \n          l.issue_hour === currentHour\n        )\n        // Only show as locked if there's actually a lock for the current hour\n        const isLockedTooltip = !!lockInfo\n        \n        return (\n          <div\n            className=\"fixed z-[9999] bg-gray-900 text-white text-xs rounded-lg shadow-2xl p-4 pointer-events-none border border-gray-700\"\n            style={{\n              top: `${tooltipPosition.top}px`,\n              left: `${tooltipPosition.left}px`,\n              transform: tooltipPosition.showAbove\n                ? 'translate(-50%, -100%) translateY(-8px)'\n                : 'translate(-50%, 0) translateY(8px)',\n              transition: 'opacity 0.2s ease-in-out, transform 0.2s ease-in-out',\n              opacity: hoveredPortfolio ? 1 : 0,\n            }}\n          >\n            <div className=\"font-bold text-sm mb-2 pb-2 border-b border-gray-700\">\n              {portfolio.name}\n              {portfolio.siteRange && ` (${portfolio.siteRange})`}\n            </div>\n            <div className=\"space-y-2\">\n              <div className=\"text-gray-200\">\n                <span className=\"text-gray-400\">Status:</span> {getStatusLabel(portfolio.status)}\n              </div>\n              <div className=\"text-gray-200\">\n                <span className=\"text-gray-400\">Y/H Value:</span> {portfolio.yValue}\n              </div>\n              \n              {/* Show \"Logged by\" - current lock owner if locked, or last worker if not locked */}\n              {(() => {\n                if (isLockedTooltip && lockInfo && lockInfo.monitored_by) {\n                  // Portfolio is locked for current hour - show current lock owner\n                  // Use case-insensitive email matching\n                  const lockUser = users.find(u => \n                    u.email?.toLowerCase() === lockInfo.monitored_by?.toLowerCase()\n                  )\n                  const lockOwnerName = lockUser?.full_name || lockInfo.monitored_by?.split('@')[0] || 'Unknown'\n                  return (\n                    <div className=\"bg-gray-800 rounded px-2 py-1.5 border border-gray-700\">\n                      <div className=\"text-gray-200 text-xs\">\n                        <span className=\"text-gray-400\">Logged by:</span> {lockOwnerName}\n                      </div>\n                    </div>\n                  )\n                } else {\n                  // Portfolio is not locked for current hour - show last person who logged issues\n                  const lastWorker = getLastWorker(portfolio.id)\n                  if (lastWorker) {\n                    return (\n                      <div className=\"bg-gray-800 rounded px-2 py-1.5 border border-gray-700\">\n                        <div className=\"text-gray-200 text-xs\">\n                          <span className=\"text-gray-400\">Last logged by:</span> {lastWorker.displayName}\n                        </div>\n                      </div>\n                    )\n                  }\n                }\n                return null\n              })()}\n              \n              {/* Separate box for \"Last Activity\" */}\n              {portfolio.lastUpdated && (\n                <div className=\"bg-gray-800 rounded px-2 py-1.5 border border-gray-700\">\n                  <div className=\"text-gray-200 text-xs\">\n                    <span className=\"text-gray-400\">Last Activity:</span> {formatTime(portfolio.lastUpdated)}\n                  </div>\n                </div>\n              )}\n              \n              {/* Separate box for lock info if locked */}\n              {isLockedTooltip && lockInfo && (\n                <div className=\"bg-purple-900/30 rounded px-2 py-1.5 border border-purple-500/30\">\n                  <div className=\"text-purple-300 text-xs\">\n                    üîí Locked - Hour {lockInfo.issue_hour}:00\n                  </div>\n                </div>\n              )}\n              \n              {/* \"Click for options\" in blue, separate box */}\n              <div className=\"bg-blue-900/30 rounded px-2 py-1.5 border border-blue-500/30\">\n                <div className=\"text-blue-400 text-xs font-semibold text-center\">\n                  Click for options\n                </div>\n              </div>\n            </div>\n            {/* Arrow pointing to card */}\n            <div\n              className={`absolute left-1/2 transform -translate-x-1/2 border-4 border-transparent ${\n                tooltipPosition.showAbove\n                  ? 'top-full -mt-1 border-t-gray-900'\n                  : 'bottom-full mb-1 border-b-gray-900'\n              }`}\n            ></div>\n          </div>\n        )\n      })()}\n\n      {/* Portfolio Detail Modal */}\n      {selectedPortfolioId && (\n        <PortfolioDetailModal\n          isOpen={!!selectedPortfolioId}\n          onClose={() => setSelectedPortfolioId(null)}\n          portfolioId={selectedPortfolioId}\n          onLogIssue={(portfolioId, hour) => {\n            setSelectedPortfolioId(null) // Close modal\n            if (onPortfolioSelected) {\n              onPortfolioSelected(portfolioId, hour)\n            }\n          }}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default QuickPortfolioReference\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}